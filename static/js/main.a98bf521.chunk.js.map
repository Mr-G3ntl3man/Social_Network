{"version":3,"sources":["components/StartPage/homePage.module.scss","components/Profile/MyPosts/MyPosts.module.scss","components/common/ButtonBurger/burger.module.scss","components/common/Preloader/Preloader.tsx","App.module.scss","components/Profile/Profile.module.css","components/Header/Header.module.scss","components/common/NotFound/notFound.module.scss","redux/reducer/users-reducer.ts","components/common/Preloader/preloader.module.css","components/Login/form.module.scss","components/Profile/ProfileInfo/ProfileContact.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/ProfileInfo/ProfileInfoEditForm.tsx","components/Profile/ProfileInfo/ProfileDesc.tsx","redux/selectors/profile-selector.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/Profile.tsx","api/api.ts","components/common/NeonBtn/btn.module.scss","redux/reducer/dialog-reducer.ts","components/common/Tooltip/Tooltip.tsx","components/common/NeonBtn/NeonBtn.tsx","components/StartPage/StartPage.tsx","components/Login/LoginForm.tsx","components/common/NotFound/NotFound.tsx","Router/Routes.tsx","components/common/ButtonBurger/ButtonBurger.tsx","components/Sidebar/Sidebar.tsx","components/Header/Header.tsx","App.tsx","reportWebVitals.ts","redux/redux-store.ts","index.tsx","redux/reducer/profile-reducer.ts","redux/reducer/localStorage/localStorage.ts","redux/reducer/app-reducer.ts","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Sidebar/Sidebar.module.scss","components/Profile/MyPosts/Post/Post.module.scss","redux/reducer/auth-reducer.ts"],"names":["module","exports","Preloader","className","s","preloader","xmlns","width","height","viewBox","preserveAspectRatio","transform","attributeName","type","values","keyTimes","dur","repeatCount","calcMode","keySplines","cx","cy","r","stroke","stroke-width","fill","stroke-dasharray","d","begin","ACTION_TYPE_USERS","initialState","users","pageSize","totalUserCount","currentPage","isFetching","followingInProgress","usersReducer","state","action","TOGGLE_FOLLOW","map","el","id","userId","followed","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","totalUsersCount","TOGGLE_IS_FETCHING","SET_IS_FOLLOWING_PROGRESS","filter","SET_PAGE_SIZE","setCurrentPage","toggleIsFetchingAC","toggleFollowingProgress","getUsers","dispatch","a","usersAPI","response","items","totalCount","followUnfollow","userID","apiMethod","resultCode","RESULT_CODE","SUCCESSFULLY","installCaughtError","messages","followSuccess","followUser","unFollowSuccess","unFollow","ProfileContact","props","profileContact","contactTitle","profileContactList","profileContactItem","target","href","contacts","facebook","linkFacebook","defaultLink","linkNone","vk","linkVk","twitter","linkTwitter","instagram","linkInstagram","youtube","linkYoutube","github","linkGithub","mainLink","linkMainLink","website","linkWebsite","ProfileStatus","status","updateStatus","useState","editMode","setState","useEffect","statusUser","editBlock","TextField","autoFocus","multiline","minRows","maxRows","fullWidth","onBlur","onChange","e","value","length","stateStatus","onClick","ProfileInfo","wrap","authorizedProfile","profileContent","fullName","spanDefault","profile","aboutMe","lookingForAJob","lookingForAJobDescription","contactsWrap","Button","style","fontFamily","letterSpacing","variant","color","setEditMode","ProfileInfoEditForm","openTooltip","setOpenTooltip","handleClose","useDispatch","useSelector","profilePage","schema","yup","shape","required","url","useForm","defaultValues","mode","resolver","yupResolver","register","handleSubmit","errors","formState","useStyles","makeStyles","position","display","justifyContent","flexDirection","alignItems","padding","container","margin","btn","input","Container","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","severity","noValidate","onSubmit","data","saveProfile","console","log","profileEditWrap","profileEditInfo","profileEditInfoDesc","helperText","message","error","label","FormControlLabel","alignSelf","control","Checkbox","defaultChecked","profileEditContact","profileEditContactDesc","profileEditContactWrap","profileEditContactLeft","size","profileEditContactRight","ProfileDesc","src","profileWrap","profileBackground","alt","profileDesc","flexLeft","profileAvatar","photos","large","border","borderRadius","htmlFor","files","savePhoto","accept","multiple","fontSize","component","profileInfo","getProfile","getProfileStatus","getAuthorizedUserId","auth","userData","Post","like","setLike","Paper","elevation","post","postWrap","postAvatar","desc","likeControl","IconButton","aria-label","setLikeSuccess","likesCount","likeCount","clearIcon","deletePostSuccess","MyPosts","React","memo","postElem","posts","small","main","addPost","textFieldWrap","newPostText","changeTextAC","currentTarget","btnWrap","addPostBtn","addPostAC","Profile","authorizedUserId","setUserProfile","getStatus","finalClassName","fetching","navigate","useNavigate","useParams","isNaN","Number","ProfileContainer","connect","instance","axios","create","withCredentials","baseURL","headers","get","then","delete","profileAPI","put","photoFile","formData","FormData","append","authAPI","getUserData","login","date","logout","securityApi","getCaptchaUrl","ACTION_TYPE_DIALOGS","Tooltip","NeonBtn","callBack","name","link","goAnotherSite","onClickHandler","line","lineTop","lineLeft","lineRight","lineBottom","to","StartPage","mainTitle","descTeh","btnGroup","LoginForm","statusMessages","resultStatusMessage","captchaUrl","email","password","autoComplete","marginBottom","textAlign","captcha","LoginPage","isAuth","authorizedUser","NotFound","title","UsersContainer","lazy","GeneralChat","Routers","fallback","index","element","path","ButtonBurger","setOpen","header__burger","toggleOpenMenu","header__line","Sidebar","collapsed","setCollapsed","scrollDistance","setScrollDistance","window","addEventListener","scrollY","innerWidth","fixedSideBarClassName","fixedSideBar","fixed","Sider","trigger","collapsible","layoutHidden","onCollapse","sideBarTrigger","theme","Item","icon","ProfileOutlined","UserOutlined","CommentOutlined","CustomerServiceOutlined","Header","authDate","avatar","photo","default","marginLeft","header","loginBlock","App","app","initialized","catchError","Content","Layout","Footer","catchUnhandledRejection","useCallback","reason","initializedApp","removeEventListener","layoutSider","minHeight","siteLayout","content","footer","messageError","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","dialogs","v1","newMessage","rootReducer","combineReducers","profileReducer","dialogsPage","UPDATE_NEW_MESSAGE","ADD_MESSAGE","newMess","usersPage","authReducer","appReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById","ACTION_TYPE_PROFILE","saveState","key","stateAsString","JSON","stringify","localStorage","setItem","restoreState","defaultState","getItem","parse","ADD_POST","stateCopy","UPDATE_NEW_POST","newText","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO","SET_LIKE","p","GET_USER_POST","DELETE_POST","setStatusAC","deletePost","file","getState","ACTION_TYPE_APP","SUCCESSFUL_INITIALIZATION","CATCH_ERROR","Promise","all","setTimeout","ACTION_TYPE_AUTH","SET_USER_DATA","SET_RESULT_STATUS","GET_CAPTCHA_SUCCESS","SET_PHOTO","setUserDataAC","setStatusMessAC","authUserProfile","setAuthorizedUserPhoto","CAPTCHA"],"mappings":"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","file":"static/js/main.a98bf521.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"homePage_wrap__2BhLI\",\"mainTitle\":\"homePage_mainTitle__2kq5J\",\"flash-border\":\"homePage_flash-border__2lePF\",\"printed-text\":\"homePage_printed-text__2tuzP\",\"desc\":\"homePage_desc__YkDZZ\",\"descTeh\":\"homePage_descTeh__2YImV\",\"btnGroup\":\"homePage_btnGroup__374qd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"MyPosts_main__2Dqxs\",\"addPost\":\"MyPosts_addPost__1eIZu\",\"textFieldWrap\":\"MyPosts_textFieldWrap__1jdLG\",\"addPostBtn\":\"MyPosts_addPostBtn__2cZxz\",\"btnWrap\":\"MyPosts_btnWrap__2vDhL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__line\":\"burger_header__line__3-2PA\",\"header__burger\":\"burger_header__burger__3SIsG\",\"open\":\"burger_open__2Awnl\"};","import React from \"react\";\r\nimport s from './preloader.module.css'\r\n\r\n\r\nexport const Preloader = () => {\r\n   return (\r\n      <div className={s.preloader}>\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"300px\" height=\"300px\" viewBox=\"0 0 100 100\"\r\n              preserveAspectRatio=\"xMidYMid\">\r\n            <g transform=\"translate(50 50)\">\r\n               <g transform=\"scale(1 -1)\">\r\n                  <g transform=\"translate(-50 -50)\">\r\n                     <g>\r\n                        <animateTransform attributeName=\"transform\" type=\"rotate\" values=\"-2 50 50;359 50 50\"\r\n                                          keyTimes=\"0;1\" dur=\"1s\" repeatCount=\"indefinite\" calcMode=\"spline\"\r\n                                          keySplines=\"0.5 0 0.5 1\"></animateTransform>\r\n                        <circle cx=\"50\" cy=\"50\" r=\"39.891\" stroke=\"#ffffff\" stroke-width=\"14.4\" fill=\"none\"\r\n                                stroke-dasharray=\"0 300\">\r\n                           <animate attributeName=\"stroke-dasharray\" values=\"10 300;60.15421082128821 300;4 300\"\r\n                                    keyTimes=\"0;0.5;1\" dur=\"1s\" repeatCount=\"indefinite\" calcMode=\"linear\"\r\n                                    keySplines=\"0 1 1 0;0 1 1 0\"></animate>\r\n                        </circle>\r\n                        <circle cx=\"50\" cy=\"50\" r=\"39.891\" stroke=\"#ffffff\" stroke-width=\"7.2\" fill=\"none\"\r\n                                stroke-dasharray=\"0 300\">\r\n                           <animate attributeName=\"stroke-dasharray\" values=\"10 300;60.15421082128821 300;4 300\"\r\n                                    keyTimes=\"0;0.5;1\" dur=\"1s\" repeatCount=\"indefinite\" calcMode=\"linear\"\r\n                                    keySplines=\"0 1 1 0;0 1 1 0\"></animate>\r\n                        </circle>\r\n                        <circle cx=\"50\" cy=\"50\" r=\"32.771\" stroke=\"#0a0a0a\" stroke-width=\"1\" fill=\"none\"\r\n                                stroke-dasharray=\"0 300\">\r\n                           <animate attributeName=\"stroke-dasharray\" values=\"10 300;49.41750376837973 300;4 300\"\r\n                                    keyTimes=\"0;0.5;1\" dur=\"1s\" repeatCount=\"indefinite\" calcMode=\"linear\"\r\n                                    keySplines=\"0 1 1 0;0 1 1 0\"></animate>\r\n                        </circle>\r\n                        <circle cx=\"50\" cy=\"50\" r=\"47.171\" stroke=\"#0a0a0a\" stroke-width=\"1\" fill=\"none\"\r\n                                stroke-dasharray=\"0 300\">\r\n                           <animate attributeName=\"stroke-dasharray\" values=\"10 300;72.03697087422624 300;4 300\"\r\n                                    keyTimes=\"0;0.5;1\" dur=\"1s\" repeatCount=\"indefinite\" calcMode=\"linear\"\r\n                                    keySplines=\"0 1 1 0;0 1 1 0\"></animate>\r\n                        </circle>\r\n                     </g>\r\n                  </g>\r\n               </g>\r\n            </g>\r\n            <g>\r\n               <animateTransform attributeName=\"transform\" type=\"rotate\" values=\"360 50 50;0 50 50\" keyTimes=\"0;1\"\r\n                                 dur=\"1s\" repeatCount=\"indefinite\" calcMode=\"spline\"\r\n                                 keySplines=\"0.5 0 0.5 1\"></animateTransform>\r\n               <path fill=\"#ffffff\" stroke=\"#0a0a0a\"\r\n                     d=\"M82.8,50c0,0.9,0.7,2.6,1.8,3.7c0.3,0.3,0.8,0.6,1,1c0.2,0.5,0.2,1-0.1,1.5c-0.3,0.5-0.8,0.9-1.1,1.3 c-0.5,0.5-0.8,1.1-0.9,1.7c-0.2,0.6-0.2,1.2,0.2,1.8c0.6,1,2,1.7,2,2.8c-0.1,0.9-1,1.5-1.4,2.2c-0.3,0.6-0.4,1.2-0.2,1.9 c0.2,0.7,0.5,1.3,1,1.8c1,1,2.4,1.4,3.9,1.5c-1.1-1-1.2-2.7-0.5-4c0.7-1.2,2.2-1.9,2.5-3.3c0.2-1.2-0.4-2.5,0.1-3.6 c0.7-1.5,3.3-1.3,4.1-2.9c0.3-0.9,0-1.9,0.3-2.8c0.2-0.7,0.6-1.1,1-1.5c0.4-0.4,0.8-0.9,0.9-1.6c0.1-0.5,0.1-0.9,0.1-1.6\"></path>\r\n\r\n            </g>\r\n            <g>\r\n               <animateTransform attributeName=\"transform\" type=\"rotate\" values=\"360 50 50;0 50 50\" keyTimes=\"0;1\"\r\n                                 dur=\"1s\" repeatCount=\"indefinite\" calcMode=\"spline\" keySplines=\"0.5 0 0.5 1\"\r\n                                 begin=\"-0.1s\"></animateTransform>\r\n               <path fill=\"#ffffff\" stroke=\"#0a0a0a\"\r\n                     d=\"M82.8,50c-0.1-3.1-0.4-6.2-1.3-9.2c-0.1-0.4-0.2-0.8-0.2-1.2c-0.1-0.4-0.1-0.8,0-1.2c0.1-0.8,0.3-1.6,0.7-2.4 c0.8-1.5,2-3,3.8-3.9l0,0c1.8-0.9,3.8-1,5.6-0.2c0.9,0.4,1.7,1,2.4,1.8c0.3,0.4,0.7,0.8,1,1.3c0.2,0.5,0.4,1,0.6,1.6 c1.4,4.3,1.9,8.8,1.9,13.3\"></path>\r\n               <path fill=\"#f9ae5c\"\r\n                     d=\"M93.6,35.5c0.1,0.4-0.3,0.8-1,1c-0.6,0.2-1.2,0.1-1.3-0.3c-0.1-0.3,0.3-0.8,0.9-1S93.5,35.1,93.6,35.5z\"></path>\r\n               <path fill=\"#f9ae5c\"\r\n                     d=\"M82.3,39.3c0.1,0.3,0.6,0.3,1.3,0.1c0.6-0.2,1.1-0.6,1-0.9c-0.1-0.3-0.7-0.3-1.3-0.1 C82.6,38.6,82.2,39,82.3,39.3z\"></path>\r\n               <path fill=\"#0a0a0a\"\r\n                     d=\"M88.9,37.5c0.1,0.3-0.2,0.7-0.7,0.8c-0.5,0.1-0.9,0-1-0.3c-0.1-0.3,0.2-0.7,0.7-0.8C88.4,37,88.9,37.2,88.9,37.5z\"></path>\r\n               <path fill=\"none\" stroke=\"#0a0a0a\"\r\n                     d=\"M86.2,39.6c0.2,0.6,0.8,0.9,1.4,0.7c0.6-0.2,0.9-0.9,0.6-2.1c0.3,1.2,1,1.7,1.6,1.5c0.6-0.2,1-0.8,0.8-1.4\"></path>\r\n               <path fill=\"#ffffff\" stroke=\"#0a0a0a\"\r\n                     d=\"M82.5,45.9c0,0.5,0.1,0.9,0.5,1.3c0.4,0.4,1,0.6,1.6,0.3c0.3-0.1,0.5-0.3,0.7-0.4c0.5-0.2,1.2,0.1,1.5,0.6 c0.3,0.5,0.3,1,0.3,1.6c0.6-0.6,1-1.4,1.3-2.2c0.2-0.7,0.4-1.5,0.2-2.2c-0.2-0.7-0.8-1.3-1.5-1.5c-0.9-0.2-1.8,0.2-2.5,0.7\"></path>\r\n               <path fill=\"#ffffff\" stroke=\"#0a0a0a\"\r\n                     d=\"M96.8,44.1c0.1,0.7,0.1,1.4-0.2,2c-0.3,0.6-0.9,1-1.5,0.7c-0.3-0.1-0.5-0.4-0.8-0.4c-0.6-0.2-1.2,0.3-1.4,0.9 c-0.2,0.6-0.1,1.2-0.1,1.9c-0.6-0.7-1.2-1.5-1.6-2.3c-0.4-0.7-0.6-1.5-0.6-2.2c0-0.8,0.3-1.6,0.9-2c0.7-0.5,1.7-0.5,2.6-0.1\"></path>\r\n               <path fill=\"#28292f\"\r\n                     d=\"M85.3,37.2c0.1,0.3,1.2,0.2,2.5-0.3c1.3-0.4,2.2-1.1,2.1-1.4c-0.1-0.3-1.2-0.2-2.5,0.3 C86.1,36.3,85.2,36.9,85.3,37.2z\"></path>\r\n               <path fill=\"#0a0a0a\"\r\n                     d=\"M91.5,35c0.3,0.7,0,1.4-0.7,1.6c-0.6,0.2-1.3-0.1-1.6-0.8c-0.2-0.6,0.1-1.3,0.7-1.6C90.6,33.9,91.3,34.3,91.5,35z\"></path>\r\n               <path fill=\"#0a0a0a\"\r\n                     d=\"M85.9,37c0.2,0.6-0.1,1.2-0.7,1.4c-0.6,0.2-1.3-0.1-1.5-0.6c-0.2-0.5,0.1-1.2,0.7-1.4C85,36.2,85.7,36.4,85.9,37z\"></path>\r\n               <path fill=\"none\" stroke=\"#0a0a0a\"\r\n                     d=\"M89.7,29c0.4,0.7-1.4,2.2-3.8,3.4c-2.5,1.2-4.7,1.7-4.9,1.2c-0.3-0.5,1.4-2,3.8-3.4S89.4,28.4,89.7,29z\"></path>\r\n\r\n            </g>\r\n         </svg>\r\n      </div>\r\n   )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"App_content__1sRsM\",\"layoutSider\":\"App_layoutSider__3aSa2\",\"siteLayout\":\"App_siteLayout__3Ene5\",\"footer\":\"App_footer__NPHX2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Profile_main__3YMwb\",\"fetching\":\"Profile_fetching__14lLW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3P-dp\",\"logo\":\"Header_logo__1b_TP\",\"loginBlock\":\"Header_loginBlock__LWiIq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"notFound_wrap__1MoAI\",\"title\":\"notFound_title__3GHec\",\"flash-border\":\"notFound_flash-border__2bT9j\",\"printed-text\":\"notFound_printed-text__1t6qT\"};","import {Dispatch} from \"redux\";\r\nimport {RESULT_CODE, usersAPI} from \"../../api/api\";\r\nimport {installCaughtError} from \"./app-reducer\";\r\n\r\nexport enum ACTION_TYPE_USERS {\r\n   TOGGLE_FOLLOW = 'social_network/users/TOGGLE_FOLLOW',\r\n   SET_USERS = 'social_network/users/SET_USERS',\r\n   SET_CURRENT_PAGE = 'social_network/users/SET_CURRENT_PAGE',\r\n   SET_TOTAL_USERS_COUNT = 'social_network/users/SET_TOTAL_USERS_COUNT',\r\n   TOGGLE_IS_FETCHING = 'social_network/users/TOGGLE_IS_FETCHING',\r\n   SET_PAGE_SIZE = 'social_network/users/SET_PAGE_SIZE',\r\n   SET_IS_FOLLOWING_PROGRESS = 'social_network/users/SET_IS_FOLLOWING_PROGRESS'\r\n}\r\n\r\ntype ActionType =\r\n   ReturnType<typeof toggleFollow>\r\n   | ReturnType<typeof setUsersAC>\r\n   | ReturnType<typeof setCurrentPage>\r\n   | ReturnType<typeof setTotalUsersCountAC>\r\n   | ReturnType<typeof toggleIsFetchingAC>\r\n   | ReturnType<typeof toggleFollowingProgress>\r\n   | ReturnType<typeof setPageSize>\r\n\r\ntype LocationType = {\r\n   city: string\r\n   country: string\r\n}\r\ntype PhotoType = {\r\n   small: string | null\r\n   large: string | null\r\n}\r\n\r\nexport type UserType = {\r\n   id: number\r\n   photos: PhotoType\r\n   followed: boolean\r\n   name: string\r\n   status: string\r\n   uniqueUrlName?: string | null\r\n   location?: LocationType\r\n}\r\n\r\nexport type UsersType = {\r\n   users: UserType[]\r\n   pageSize: number\r\n   totalUserCount: number\r\n   currentPage: number\r\n   isFetching: boolean\r\n   followingInProgress: number[]\r\n}\r\n\r\nconst initialState: UsersType = {\r\n   users: [],\r\n   pageSize: 10,\r\n   totalUserCount: 0,\r\n   currentPage: 1,\r\n   isFetching: false,\r\n   followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action: ActionType): UsersType => {\r\n   switch (action.type) {\r\n      case ACTION_TYPE_USERS.TOGGLE_FOLLOW:\r\n         const users = state.users.map(el => el.id === action.userId ? {...el, followed: !el.followed} : el)\r\n\r\n         return {...state, users: users}\r\n\r\n      case ACTION_TYPE_USERS.SET_USERS:\r\n         return {...state, users: [...action.users]}\r\n\r\n      case ACTION_TYPE_USERS.SET_CURRENT_PAGE:\r\n         return {...state, currentPage: action.currentPage}\r\n\r\n      case ACTION_TYPE_USERS.SET_TOTAL_USERS_COUNT:\r\n         return {...state, totalUserCount: action.totalUsersCount}\r\n\r\n      case ACTION_TYPE_USERS.TOGGLE_IS_FETCHING:\r\n         return {...state, isFetching: action.isFetching}\r\n\r\n      case ACTION_TYPE_USERS.SET_IS_FOLLOWING_PROGRESS:\r\n         return {\r\n            ...state,\r\n            followingInProgress: action.isFetching\r\n               ? [...state.followingInProgress, action.userId]\r\n               : state.followingInProgress.filter(id => id !== action.userId)\r\n         }\r\n\r\n      case ACTION_TYPE_USERS.SET_PAGE_SIZE:\r\n         return {...state, pageSize: action.pageSize}\r\n\r\n      default:\r\n         return {...state}\r\n   }\r\n}\r\n\r\nexport const toggleFollow = (userId: number) => {\r\n   return {\r\n      type: ACTION_TYPE_USERS.TOGGLE_FOLLOW,\r\n      userId\r\n   } as const\r\n}\r\n\r\nexport const setUsersAC = (users: UserType[]) => {\r\n   return {\r\n      type: ACTION_TYPE_USERS.SET_USERS,\r\n      users\r\n   } as const\r\n}\r\n\r\nexport const setCurrentPage = (currentPage: number) => {\r\n   return {\r\n      type: ACTION_TYPE_USERS.SET_CURRENT_PAGE,\r\n      currentPage\r\n   } as const\r\n}\r\n\r\nexport const setTotalUsersCountAC = (totalUsersCount: number) => {\r\n   return {\r\n      type: ACTION_TYPE_USERS.SET_TOTAL_USERS_COUNT,\r\n      totalUsersCount\r\n   } as const\r\n}\r\n\r\nexport const toggleIsFetchingAC = (isFetching: boolean) => {\r\n   return {\r\n      type: ACTION_TYPE_USERS.TOGGLE_IS_FETCHING,\r\n      isFetching\r\n   } as const\r\n}\r\n\r\nexport const setPageSize = (pageSize: number) => {\r\n   return {\r\n      type: ACTION_TYPE_USERS.SET_PAGE_SIZE,\r\n      pageSize\r\n   } as const\r\n}\r\n\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => {\r\n   return {\r\n      type: ACTION_TYPE_USERS.SET_IS_FOLLOWING_PROGRESS,\r\n      isFetching,\r\n      userId\r\n   } as const\r\n}\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n   return async (dispatch: Dispatch<ActionType>) => {\r\n      dispatch(toggleIsFetchingAC(true))\r\n      dispatch(setCurrentPage(currentPage))\r\n\r\n      const response = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n      dispatch(setUsersAC(response.items))\r\n\r\n      dispatch(setTotalUsersCountAC(response.totalCount))\r\n\r\n      dispatch(toggleIsFetchingAC(false))\r\n   }\r\n}\r\n\r\nconst followUnfollow = async (dispatch: Dispatch<ActionType> | any, userID: number, apiMethod: (id: number) => Promise<any>) => {\r\n\r\n   dispatch(toggleFollowingProgress(true, userID))\r\n\r\n   const response = await apiMethod(userID)\r\n\r\n   response.resultCode === RESULT_CODE.SUCCESSFULLY && dispatch(toggleFollow(userID))\r\n   response.resultCode !== RESULT_CODE.SUCCESSFULLY && dispatch(installCaughtError(response.messages, 'warning'))\r\n\r\n   dispatch(toggleFollowingProgress(false, userID))\r\n}\r\n\r\nexport const followSuccess = (id: number) => {\r\n   return (dispatch: Dispatch<ActionType>) => {\r\n      followUnfollow(dispatch, id, usersAPI.followUser)\r\n   }\r\n}\r\n\r\nexport const unFollowSuccess = (id: number) => {\r\n   return async (dispatch: Dispatch<ActionType>) => {\r\n      followUnfollow(dispatch, id, usersAPI.unFollow)\r\n   }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__1dOWx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"width\":\"form_width__2zyHi\"};","import React from \"react\";\r\nimport s from './ProfileInfo.module.scss'\r\n\r\nimport {ContactsType} from \"../../../redux/reducer/profile-reducer\";\r\n\r\ntype ProfileContactType = {\r\n   contacts: ContactsType\r\n}\r\n\r\n\r\nexport const ProfileContact: React.FC<ProfileContactType> = (props) => {\r\n\r\n   return (\r\n      <div className={s.profileContact}>\r\n         <span className={s.contactTitle}>My Contact</span>\r\n         <ul className={s.profileContactList}>\r\n            <li className={s.profileContactItem}>\r\n               <a target='blank'\r\n                  href={props.contacts.facebook ? props.contacts.facebook : '#'}\r\n                  className={props.contacts.facebook ? `${s.linkFacebook} ${s.defaultLink}` : ` ${s.defaultLink} ${s.linkFacebook} ${s.linkNone}`}> </a>\r\n            </li>\r\n\r\n            <li className={s.profileContactItem}>\r\n               <a target='blank'\r\n                  href={props.contacts.vk ? props.contacts.vk : '#'}\r\n                  className={props.contacts.vk ? `${s.linkVk} ${s.defaultLink}` : `${s.linkVk} ${s.defaultLink} ${s.linkNone}`}> </a>\r\n            </li>\r\n\r\n            <li className={s.profileContactItem}>\r\n               <a target='blank'\r\n                  href={props.contacts.twitter ? props.contacts.twitter : '#'}\r\n                  className={props.contacts.twitter ? `${s.linkTwitter} ${s.defaultLink}` : `${s.linkTwitter} ${s.defaultLink} ${s.linkNone}`}> </a>\r\n            </li>\r\n\r\n            <li className={s.profileContactItem}>\r\n               <a target='blank'\r\n                  href={props.contacts.instagram ? props.contacts.instagram : '#'}\r\n                  className={props.contacts.instagram ? `${s.linkInstagram} ${s.defaultLink}` : `${s.linkInstagram} ${s.defaultLink} ${s.linkNone}`}> </a>\r\n            </li>\r\n\r\n            <li className={s.profileContactItem}>\r\n               <a target='blank'\r\n                  href={props.contacts.youtube ? props.contacts.youtube : '#'}\r\n                  className={props.contacts.youtube ? `${s.linkYoutube} ${s.defaultLink}` : `${s.linkYoutube} ${s.defaultLink} ${s.linkNone}`}> </a>\r\n            </li>\r\n\r\n            <li className={s.profileContactItem}>\r\n               <a target='blank'\r\n                  href={props.contacts.github ? props.contacts.github : '#'}\r\n                  className={props.contacts.github ? `${s.linkGithub} ${s.defaultLink}` : `${s.linkGithub} ${s.defaultLink} ${s.linkNone}`}> </a>\r\n            </li>\r\n\r\n            <li className={s.profileContactItem}>\r\n               <a target='blank'\r\n                  href={props.contacts.mainLink ? props.contacts.mainLink : '#'}\r\n                  className={props.contacts.mainLink ? `${s.linkMainLink} ${s.defaultLink}` : `${s.linkMainLink} ${s.defaultLink} ${s.linkNone}`}> </a>\r\n            </li>\r\n\r\n            <li className={s.profileContactItem}>\r\n               <a target='blank'\r\n                  href={props.contacts.website ? props.contacts.website : '#'}\r\n                  className={props.contacts.website ? ` ${s.linkWebsite} ${s.defaultLink}` : `${s.linkWebsite} ${s.defaultLink} ${s.linkNone}`}> </a>\r\n            </li>\r\n         </ul>\r\n      </div>\r\n\r\n   )\r\n}\r\n\r\n\r\n\r\n","import {TextField} from \"@material-ui/core\";\r\nimport React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport s from './ProfileInfo.module.scss'\r\n\r\ntype ProfileStatusType = {\r\n   status: string\r\n   updateStatus: (status: string) => void\r\n}\r\n\r\ntype StateType = {\r\n   editMode: boolean\r\n   status: string\r\n\r\n}\r\n\r\nexport const ProfileStatus: React.FC<ProfileStatusType> = (props) => {\r\n   const {status, updateStatus} = props\r\n\r\n   const [state, setState] = useState<StateType>({\r\n      editMode: false,\r\n      status: status,\r\n   })\r\n\r\n   useEffect(() => {\r\n      setState(state => ({...state, status: status}))\r\n   }, [status])\r\n\r\n   const onActivateEditMode = () => setState(state => ({...state, editMode: true}))\r\n\r\n   const offActivateEditMode = () => {\r\n      setState(state => ({...state, editMode: false}))\r\n      updateStatus(state.status)\r\n   }\r\n\r\n   const onChangeStatusInput = (e: ChangeEvent<HTMLInputElement>) => {\r\n      e.target.value.length < 310 && setState(state => ({...state, status: e.target.value}))\r\n   }\r\n\r\n   return (\r\n      <div className={s.statusUser}>\r\n         Status:\r\n         {state.editMode\r\n            ? <span className={s.editBlock}>\r\n               <TextField autoFocus\r\n                          multiline\r\n                          minRows={1}\r\n                          maxRows={15}\r\n                          fullWidth\r\n                          onBlur={offActivateEditMode}\r\n                          onChange={onChangeStatusInput}\r\n                          value={state.status}/>\r\n            </span>\r\n            : <span className={s.editBlock}>\r\n               <span className={s.stateStatus}\r\n                     onClick={onActivateEditMode}> {state.status || 'No status specified'}</span>\r\n            </span>}\r\n      </div>\r\n   )\r\n}\r\n","import React from \"react\";\r\nimport s from './ProfileInfo.module.scss'\r\nimport {ProfileType} from \"../../../redux/reducer/profile-reducer\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {ProfileContact} from \"./ProfileContact\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\n\r\ntype ProfileInfoType = {\r\n   profile: ProfileType\r\n   authorizedProfile: boolean\r\n   setEditMode: (value: boolean) => void\r\n   updateStatus: (status: string) => void\r\n   status: string\r\n}\r\n\r\nexport const ProfileInfo: React.FC<ProfileInfoType> = (props) => {\r\n   const setEditModeHandler = () => props.setEditMode(true)\r\n\r\n   return (\r\n      <div className={s.wrap}>\r\n         {props.authorizedProfile\r\n            ? <ProfileStatus updateStatus={props.updateStatus} status={props.status}/>\r\n            : <div className={s.statusUser}>Status: <span>{props.status || 'No status specified'}</span></div>}\r\n\r\n         <ul className={s.profileContent}>\r\n            <li className={s.fullName}>\r\n               Full name:\r\n               <span\r\n                  className={s.spanDefault}>{props.profile.fullName ? props.profile.fullName : 'Data not filled'}</span>\r\n            </li>\r\n            <li className={s.aboutMe}>\r\n               About me:\r\n               <span\r\n                  className={s.spanDefault}>{props.profile.aboutMe ? props.profile.aboutMe : 'Data not filled'}</span>\r\n            </li>\r\n            <li className={s.lookingForAJob}>\r\n               Looking for a job:\r\n               <span\r\n                  className={s.spanDefault}>{props.profile.lookingForAJob ? 'Yes' : 'No'}</span>\r\n            </li>\r\n            <li className={s.lookingForAJobDescription}>\r\n               Looking for a job description:\r\n               <span\r\n                  className={s.spanDefault}>{props.profile.lookingForAJobDescription ? props.profile.lookingForAJobDescription : 'Data not filled'}</span>\r\n            </li>\r\n         </ul>\r\n\r\n         <div className={s.contactsWrap}>\r\n            <ProfileContact contacts={props.profile.contacts}/>\r\n\r\n            {props.authorizedProfile &&\r\n            <Button\r\n               style={{fontFamily: `Mochiy Pop P One, sans-serif`, letterSpacing: '2px'}}\r\n               fullWidth\r\n               variant=\"contained\"\r\n               color=\"primary\"\r\n               onClick={setEditModeHandler}>Edit Profile Info</Button>}\r\n         </div>\r\n      </div>\r\n\r\n   )\r\n}\r\n\r\n\r\n\r\n","import React, {useState} from \"react\";\r\nimport {ProfileEditFormType, ProfileType, saveProfile} from \"../../../redux/reducer/profile-reducer\";\r\nimport {Button, Checkbox, Container, FormControlLabel, makeStyles, TextField} from \"@material-ui/core\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {yupResolver} from \"@hookform/resolvers/yup\";\r\nimport * as yup from \"yup\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateT} from \"../../../redux/redux-store\";\r\nimport s from './ProfileInfo.module.scss'\r\n\r\ntype ProfileInfoType = {\r\n   profile: ProfileType\r\n   setEditMode: (value: boolean) => void\r\n}\r\n\r\nexport const ProfileInfoEditForm: React.FC<ProfileInfoType> = (props) => {\r\n   const [openTooltip, setOpenTooltip] = useState<boolean>(false)\r\n   const handleClick = () => setOpenTooltip(true)\r\n   const handleClose = () => setOpenTooltip(false)\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   const profile = useSelector<AppRootStateT, ProfileType | null>(state => state.profilePage.profile)\r\n\r\n   const schema = yup.object().shape({\r\n      aboutMe: yup\r\n         .string()\r\n         .required('About me is a required field'),\r\n      fullName: yup\r\n         .string()\r\n         .required('Full name is a required field'),\r\n      lookingForAJobDescription: yup\r\n         .string()\r\n         .required('Description is a required field'),\r\n      contacts: yup.object().shape({\r\n         website: yup\r\n            .string()\r\n            .url('Website should have correct format'),\r\n         github: yup\r\n            .string()\r\n            .url('Github should have correct format'),\r\n         vk: yup\r\n            .string()\r\n            .url('Vkontakte should have correct format'),\r\n         facebook: yup\r\n            .string()\r\n            .url('Facebook should have correct format'),\r\n         instagram: yup\r\n            .string()\r\n            .url('Instagram should have correct format'),\r\n         twitter: yup\r\n            .string()\r\n            .url('Twitter should have correct format'),\r\n         youtube: yup\r\n            .string()\r\n            .url('Youtube should have correct format'),\r\n         mainLink: yup\r\n            .string()\r\n            .url('MainLink should have correct format'),\r\n      })\r\n   })\r\n\r\n   const {register, handleSubmit, formState: {errors}} = useForm<ProfileEditFormType>({\r\n      defaultValues: {\r\n         aboutMe: profile?.aboutMe,\r\n         fullName: profile?.fullName,\r\n         lookingForAJob: profile?.lookingForAJob,\r\n         lookingForAJobDescription: profile?.lookingForAJobDescription,\r\n         contacts: {\r\n            github: profile?.contacts.github,\r\n            vk: profile?.contacts.vk,\r\n            facebook: profile?.contacts.facebook,\r\n            instagram: profile?.contacts.instagram,\r\n            mainLink: profile?.contacts.mainLink,\r\n            twitter: profile?.contacts.twitter,\r\n            website: profile?.contacts.website,\r\n            youtube: profile?.contacts.youtube,\r\n         }\r\n      },\r\n      mode: \"onBlur\",\r\n      resolver: yupResolver(schema)\r\n   })\r\n\r\n   const onSubmit: SubmitHandler<ProfileEditFormType> = (data) => {\r\n      dispatch(saveProfile(data))\r\n      props.setEditMode(false)\r\n      console.log(data)\r\n   }\r\n\r\n   const useStyles = makeStyles(() => ({\r\n      position: {\r\n         display: 'flex',\r\n         justifyContent: 'center',\r\n         flexDirection: 'column',\r\n         alignItems: 'center',\r\n         padding: '0'\r\n      },\r\n      container: {\r\n         margin: '100px 0'\r\n      },\r\n      width: {\r\n         width: '100%'\r\n      },\r\n      btn: {\r\n         width: '200px'\r\n      },\r\n      input: {\r\n         height: '30px'\r\n      }\r\n   }))\r\n\r\n   return (\r\n      <Container className={`${useStyles().position}`}>\r\n         <Snackbar\r\n            anchorOrigin={{vertical: 'top', horizontal: \"right\"}}\r\n            open={openTooltip}\r\n            autoHideDuration={2000}\r\n            onClose={handleClose}>\r\n            <MuiAlert\r\n               style={{\r\n                  fontFamily: `Mochiy Pop P One, sans-serif`,\r\n                  letterSpacing: '2px'\r\n               }}\r\n               variant=\"filled\"\r\n               onClose={handleClose}\r\n               severity={!!errors ? 'error' : 'success'}>\r\n               {!!errors ? 'Data is filled incorrectly!!!' : 'Data saved!!!'}\r\n            </MuiAlert>\r\n         </Snackbar>\r\n\r\n         <form\r\n            className={`${useStyles().position} ${useStyles().width}`}\r\n            noValidate\r\n            onSubmit={handleSubmit(onSubmit)}>\r\n\r\n            <div className={s.profileEditWrap}>\r\n               <div className={s.profileEditInfo}>\r\n                  <span className={s.profileEditInfoDesc}>Profile info:</span>\r\n\r\n                  <TextField\r\n                     fullWidth\r\n                     required\r\n                     helperText={errors.fullName?.message}\r\n                     error={!!errors.fullName}\r\n                     label={'Full name:'}\r\n                     margin={\"normal\"}\r\n                     variant={'outlined'}\r\n                     {...register(\"fullName\")} />\r\n\r\n                  <TextField\r\n                     fullWidth\r\n                     required\r\n                     helperText={errors.aboutMe?.message}\r\n                     error={!!errors.aboutMe}\r\n                     label={'About me:'}\r\n                     margin={\"normal\"}\r\n                     variant={'outlined'}\r\n                     multiline\r\n                     minRows={2}\r\n                     maxRows={10}\r\n                     {...register('aboutMe')} />\r\n\r\n                  <TextField\r\n                     fullWidth\r\n                     required\r\n                     helperText={errors.lookingForAJobDescription?.message}\r\n                     error={!!errors.lookingForAJobDescription}\r\n                     label={'Looking for a job description:'}\r\n                     margin={\"normal\"}\r\n                     variant={'outlined'}\r\n                     multiline\r\n                     minRows={2}\r\n                     maxRows={10}\r\n                     {...register('lookingForAJobDescription')} />\r\n\r\n\r\n                  <FormControlLabel style={{\r\n                     margin: '20px 0',\r\n                     alignSelf: 'self-start'\r\n                  }} control={\r\n                     <Checkbox\r\n                        defaultChecked={profile ? profile.lookingForAJob : false}\r\n                        color={'primary'}\r\n                        {...register(\"lookingForAJob\")}/>\r\n                  } label={'Looking for a job?'}/>\r\n               </div>\r\n               <div className={s.profileEditContact}>\r\n                  <span className={s.profileEditContactDesc}>Contacts:</span>\r\n                  <div className={s.profileEditContactWrap}>\r\n                     <div className={s.profileEditContactLeft}>\r\n                        <TextField\r\n                           helperText={errors.contacts?.facebook?.message}\r\n                           error={!!errors.contacts?.facebook}\r\n                           fullWidth\r\n                           size={'small'}\r\n                           label={'Facebook:'}\r\n                           margin={\"normal\"}\r\n                           variant={'outlined'}\r\n                           {...register(\"contacts.facebook\")} />\r\n\r\n                        <TextField\r\n                           fullWidth\r\n                           size={'small'}\r\n                           helperText={errors.contacts?.vk?.message}\r\n                           error={!!errors.contacts?.vk}\r\n                           label={'Vkontakte:'}\r\n                           margin={\"normal\"}\r\n                           variant={'outlined'}\r\n                           {...register(\"contacts.vk\")} />\r\n\r\n                        <TextField\r\n                           fullWidth\r\n                           helperText={errors.contacts?.twitter?.message}\r\n                           error={!!errors.contacts?.twitter}\r\n                           size={'small'}\r\n                           label={'Twitter:'}\r\n                           margin={\"normal\"}\r\n                           variant={'outlined'}\r\n                           {...register(\"contacts.twitter\")} />\r\n\r\n                        <TextField\r\n                           fullWidth\r\n                           size={'small'}\r\n                           helperText={errors.contacts?.instagram?.message}\r\n                           error={!!errors.contacts?.instagram}\r\n                           label={'Instagram:'}\r\n                           margin={\"normal\"}\r\n                           variant={'outlined'}\r\n                           {...register(\"contacts.instagram\")} />\r\n\r\n                     </div>\r\n                     <div className={s.profileEditContactRight}>\r\n                        <TextField\r\n                           fullWidth\r\n                           size={'small'}\r\n                           helperText={errors.contacts?.youtube?.message}\r\n                           error={!!errors.contacts?.youtube}\r\n                           label={'Youtube:'}\r\n                           margin={\"normal\"}\r\n                           variant={'outlined'}\r\n                           {...register(\"contacts.youtube\")} />\r\n\r\n\r\n                        <TextField\r\n                           fullWidth\r\n                           size={'small'}\r\n                           helperText={errors.contacts?.github?.message}\r\n                           error={!!errors.contacts?.github}\r\n                           label={'Github:'}\r\n                           margin={\"normal\"}\r\n                           variant={'outlined'}\r\n                           {...register(\"contacts.github\")} />\r\n\r\n                        <TextField\r\n                           fullWidth\r\n                           size={'small'}\r\n                           helperText={errors.contacts?.mainLink?.message}\r\n                           error={!!errors.contacts?.mainLink}\r\n                           label={'Main Link:'}\r\n                           margin={\"normal\"}\r\n                           variant={'outlined'}\r\n                           {...register(\"contacts.mainLink\")} />\r\n\r\n                        <TextField\r\n                           fullWidth\r\n                           size={'small'}\r\n                           helperText={errors.contacts?.website?.message}\r\n                           error={!!errors.contacts?.website}\r\n                           label={'Website:'}\r\n                           margin={\"normal\"}\r\n                           variant={'outlined'}\r\n                           {...register(\"contacts.website\")} />\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <Button\r\n               style={{\r\n                  fontFamily: `Mochiy Pop P One, sans-serif`\r\n               }}\r\n               className={useStyles().btn}\r\n               fullWidth\r\n               variant={\"contained\"}\r\n               color=\"primary\"\r\n               type={\"submit\"}\r\n               onClick={handleClick}\r\n            >Save</Button>\r\n         </form>\r\n      </Container>\r\n\r\n   )\r\n}\r\n\r\n\r\n\r\n","import React, {ChangeEvent, useState} from \"react\";\r\nimport s from './ProfileInfo.module.scss'\r\nimport {ProfileContainerType} from \"../Profile\";\r\nimport {ProfileInfo} from \"./ProfileInfo\";\r\nimport {ProfileInfoEditForm} from \"./ProfileInfoEditForm\";\r\nimport AddPhotoAlternateIcon from '@mui/icons-material/AddPhotoAlternate';\r\nimport {Button} from \"@material-ui/core\";\r\nimport {Avatar, Image} from 'antd';\r\n\r\ntype ProfileInfoType = {\r\n   authorizedProfile: boolean\r\n}\r\n\r\n\r\nexport const ProfileDesc: React.FC<ProfileContainerType & ProfileInfoType> = (props) => {\r\n   const defaultAvatar = (src: string | null | undefined) => src ? src : 'https://media.istockphoto.com/vectors/web-developer-blue-rgb-color-icon-computer-software-development-pc-vector-id1251725147?k=20&m=1251725147&s=170667a&w=0&h=dP5REX1HGPDsX_YVsuvXubqJGhN-pg9_ooSkurdWPAA='\r\n   const uploadPhotoHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n      e.target.files && props.savePhoto(e.target.files[0])\r\n   }\r\n\r\n   const [editMode, setEditMode] = useState<boolean>(false)\r\n\r\n   if (!props.profile) {\r\n      return <div>No profile, error!!!</div>\r\n   }\r\n\r\n   return (\r\n      <div className={s.profileWrap}>\r\n         <span className={s.profileBackground}> <img\r\n            src='https://images.unsplash.com/photo-1542903660-eedba2cda473?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1000&q=80'\r\n            alt=\"logo\"/> </span>\r\n         <div className={s.profileDesc}>\r\n            <div className={s.flexLeft}>\r\n               <div className={s.profileAvatar}>\r\n                  <Avatar style={props.profile?.photos.large ? {} : {border: '2px solid #7e7e7e', borderRadius: '5px'}}\r\n                          size={300} shape={'square'}\r\n                          src={<Image src={defaultAvatar(props.profile?.photos.large)}/>}/>\r\n               </div>\r\n               {props.authorizedProfile &&\r\n               <label htmlFor=\"contained-button-file\">\r\n                  <input onChange={uploadPhotoHandler}\r\n                         style={{display: \"none\"}}\r\n                         id=\"contained-button-file\"\r\n                         accept=\"image/*\"\r\n                         multiple type=\"file\"/>\r\n                  <Button style={{fontFamily: `Mochiy Pop P One, sans-serif`, fontSize: '12px'}}\r\n                          color={'primary'}\r\n                          variant=\"contained\"\r\n                          component=\"span\">\r\n                     Click to Upload\r\n                     <AddPhotoAlternateIcon/>\r\n                  </Button>\r\n               </label>\r\n\r\n               }\r\n            </div>\r\n\r\n            <div className={s.profileInfo}>\r\n\r\n               {editMode\r\n                  ? <ProfileInfoEditForm\r\n                     setEditMode={setEditMode}\r\n                     profile={props.profile}/>\r\n                  : <ProfileInfo\r\n                     updateStatus={props.updateStatus}\r\n                     status={props.status}\r\n                     setEditMode={setEditMode}\r\n                     authorizedProfile={props.authorizedProfile}\r\n                     profile={props.profile}/>}\r\n            </div>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\n\r\n\r\n","import {AppRootStateT} from \"../redux-store\";\r\n\r\nexport const getProfile = (state: AppRootStateT) => state.profilePage.profile\r\n\r\nexport const getProfileStatus = (state: AppRootStateT) => state.profilePage.status\r\n\r\nexport const getAuthorizedUserId = (state: AppRootStateT) => state.auth.userData ? state.auth.userData.id : 0","import React, {useState} from \"react\";\r\nimport s from './Post.module.scss'\r\nimport {IconButton, Paper} from \"@material-ui/core\";\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {deletePostSuccess, setLikeSuccess} from \"../../../../redux/reducer/profile-reducer\";\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\n\r\ntype PostPropsType = {\r\n   message: string,\r\n   likesCount: number,\r\n   profileAvatar: string | null | undefined\r\n   id: string\r\n   authorizedProfile: boolean\r\n}\r\n\r\nexport const Post: React.FC<PostPropsType> = (props) => {\r\n   const defaultAvatar = (src: string | null | undefined) => src ? src : 'https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png'\r\n   const [like, setLike] = useState<boolean>(false)\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   const likePost = () => {\r\n      setLike(state => !state)\r\n      dispatch(setLikeSuccess(props.likesCount + 1, props.id))\r\n   }\r\n\r\n   const removeLikePost = () => {\r\n      setLike(state => !state)\r\n      dispatch(setLikeSuccess(props.likesCount - 1, props.id))\r\n   }\r\n\r\n   const deletePost = () => dispatch(deletePostSuccess(props.id))\r\n\r\n   return (\r\n      <div className={s.wrap}>\r\n         <Paper style={{width: '100%'}} elevation={5}>\r\n            <div className={s.post}>\r\n               <div className={s.postWrap}>\r\n                  <span className={s.postAvatar}><img src={defaultAvatar(props.profileAvatar)} alt=\"avatar\"/></span>\r\n\r\n                  <p className={s.desc}>\r\n                     {props.message}\r\n                  </p>\r\n\r\n               </div>\r\n\r\n               <div className={s.likeControl}>\r\n                  {like\r\n                     ? <IconButton color=\"primary\"\r\n                                   aria-label=\"like post\"\r\n                                   component=\"span\"\r\n                                   onClick={removeLikePost}\r\n                                   size={'medium'}>\r\n                        <FavoriteIcon fontSize={'medium'}/>\r\n                     </IconButton>\r\n                     : <IconButton color=\"primary\"\r\n                                   aria-label=\"like post\"\r\n                                   component=\"span\"\r\n                                   onClick={likePost}\r\n                     >\r\n                        <FavoriteBorderIcon fontSize={'medium'}/>\r\n                     </IconButton>}\r\n                  <span className={s.likeCount}>{props.likesCount} </span>\r\n\r\n                  {props.authorizedProfile &&\r\n                  <div className={s.clearIcon}>\r\n                     <IconButton\r\n                        color=\"primary\"\r\n                        aria-label=\"delete post\"\r\n                        component=\"span\"\r\n                        onClick={deletePost}>\r\n                        <ClearIcon fontSize={'large'}/>\r\n                     </IconButton>\r\n                  </div>}\r\n               </div>\r\n            </div>\r\n         </Paper>\r\n      </div>\r\n   )\r\n}","import React, {ChangeEvent} from \"react\";\r\nimport s from './MyPosts.module.scss'\r\nimport {Post} from \"./Post/Post\";\r\n\r\nimport {Button, Paper, TextField} from \"@material-ui/core\";\r\nimport {addPostAC, changeTextAC, ProfilePageType} from \"../../../redux/reducer/profile-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateT} from \"../../../redux/redux-store\";\r\n\r\ntype MyPostsPropsT = {\r\n   authorizedProfile: boolean\r\n}\r\n\r\nexport const MyPosts: React.FC<MyPostsPropsT> = React.memo((props) => {\r\n   const profilePage = useSelector<AppRootStateT, ProfilePageType>(state => state.profilePage)\r\n   const dispatch = useDispatch()\r\n\r\n   const postElem = profilePage.posts.length\r\n      ? profilePage.posts.map(el => <Post\r\n         authorizedProfile={props.authorizedProfile}\r\n         id={el.id}\r\n         profileAvatar={profilePage.profile?.photos.small}\r\n         key={el.id} message={el.message}\r\n         likesCount={el.likesCount}/>)\r\n      : <Paper style={{padding: '20px'}} elevation={2}>\r\n         <div style={{fontFamily: `Mochiy Pop P One, sans-serif`, fontSize: '18px', letterSpacing: '1px'}}>\r\n            There are no posts\r\n         </div>\r\n      </Paper>\r\n\r\n   const onClickForNewPosts = () => dispatch(addPostAC())\r\n\r\n   const onChangeFromTextArea = (e: ChangeEvent<HTMLTextAreaElement>) => dispatch(changeTextAC(e.currentTarget.value))\r\n\r\n   return (\r\n      <div className={s.main}>\r\n         <h3>My post</h3>\r\n\r\n         {props.authorizedProfile &&\r\n         <div className={s.addPost}>\r\n            <div className={s.textFieldWrap}>\r\n               <TextField\r\n                  className={s.textFieldWrap}\r\n                  value={profilePage.newPostText}\r\n                  onChange={onChangeFromTextArea}\r\n                  label=\"You news...\"\r\n                  variant=\"outlined\"/>\r\n            </div>\r\n\r\n            <div className={s.btnWrap}>\r\n               <Button\r\n                  style={{\r\n                     color: 'white',\r\n                     fontFamily: `Mochiy Pop P One, sans-serif`\r\n                  }}\r\n                  className={s.addPostBtn}\r\n                  onClick={onClickForNewPosts}\r\n                  variant=\"contained\"> Add post</Button>\r\n            </div>\r\n         </div>}\r\n         {postElem}\r\n      </div>\r\n   )\r\n})\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport s from './Profile.module.css'\r\nimport {ProfileDesc} from \"./ProfileInfo/ProfileDesc\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, ProfileType, savePhoto, setUserProfile, updateStatus} from \"../../redux/reducer/profile-reducer\";\r\nimport {AppRootStateT} from \"../../redux/redux-store\";\r\nimport {getAuthorizedUserId, getProfile, getProfileStatus} from \"../../redux/selectors/profile-selector\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {MyPosts} from \"./MyPosts/MyPosts\";\r\n\r\n\r\nexport type ProfileContainerType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nexport const Profile: React.FC<ProfileContainerType> = (props) => {\r\n   const {authorizedUserId, setUserProfile, profile, getStatus} = props\r\n\r\n   const finalClassName = !profile ? `${s.main} ${s.fetching}` : s.main\r\n\r\n   const navigate = useNavigate()\r\n   const {userId} = useParams()\r\n\r\n   useEffect(() => {\r\n      let id = isNaN(Number(userId)) ? authorizedUserId : Number(userId)\r\n\r\n      if (!id) return navigate('/login')\r\n\r\n      setUserProfile(id)\r\n      getStatus(id)\r\n   }, [userId, setUserProfile, getStatus, authorizedUserId, navigate])\r\n\r\n\r\n   if (!props.profile) {\r\n      return <Preloader/>\r\n   }\r\n\r\n   return (\r\n      <main className={finalClassName}>\r\n         <ProfileDesc authorizedProfile={Number(userId) === authorizedUserId} {...props} />\r\n         <MyPosts authorizedProfile={Number(userId) === authorizedUserId}/>\r\n      </main>\r\n   )\r\n}\r\n\r\nexport type MapStateToPropsType = {\r\n   profile: ProfileType | null\r\n   status: string\r\n   authorizedUserId: number\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n   setUserProfile: (id: number) => void\r\n   getStatus: (id: number) => void\r\n   updateStatus: (status: string) => void\r\n   savePhoto: (file: File) => void\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateT): MapStateToPropsType => {\r\n   return {\r\n      profile: getProfile(state),\r\n      status: getProfileStatus(state),\r\n      authorizedUserId: getAuthorizedUserId(state)\r\n   }\r\n}\r\n\r\nexport const ProfileContainer = connect(mapStateToProps, {\r\n   savePhoto,\r\n   setUserProfile,\r\n   getStatus,\r\n   updateStatus\r\n})(Profile)\r\n\r\nexport default ProfileContainer","import axios from \"axios\";\r\nimport {ProfileEditFormType} from \"../redux/reducer/profile-reducer\";\r\nimport {FormDataType} from \"../redux/reducer/auth-reducer\";\r\n\r\nexport enum RESULT_CODE {\r\n   SUCCESSFULLY = 0,\r\n   ERROR = 1,\r\n   CAPTCHA = 10\r\n}\r\n\r\ntype GeneralResponseT = {\r\n   resultCode: RESULT_CODE\r\n   messages: string[]\r\n   data: any\r\n}\r\n\r\ntype MeResponseT = {\r\n   data: { id: number, email: string, login: string }\r\n   resultCode: number\r\n   messages: string[]\r\n}\r\n\r\ntype ProfileResponseT = {\r\n   aboutMe: string\r\n\r\n   contacts: {\r\n      facebook: string\r\n      website: string\r\n      vk: string\r\n      twitter: string\r\n      instagram: string\r\n      youtube: string\r\n      github: string\r\n      mainLink: string\r\n   }\r\n\r\n   lookingForAJob: boolean\r\n   lookingForAJobDescription: string\r\n   fullName: string\r\n   userId: number\r\n\r\n   photos: {\r\n      small: string\r\n      large: string\r\n   }\r\n}\r\n\r\ntype UsersResponseT = {\r\n   items: {\r\n      name: string\r\n      id: number\r\n      photos: { small: string, large: string }\r\n      status: string\r\n      followed: boolean\r\n   }[]\r\n   totalCount: number\r\n   error: string\r\n}\r\n\r\ntype PhotoResponseT = {\r\n   resultCode: RESULT_CODE\r\n   messages: string[]\r\n   data: { small: string, large: string }\r\n}\r\n\r\ntype LoginResponseT = {\r\n   resultCode: RESULT_CODE\r\n   messages: string[]\r\n   data: { userId: number }\r\n}\r\n\r\ntype CaptchaResponseT = {\r\n   url: string\r\n}\r\n\r\n\r\nconst instance = axios.create({\r\n   withCredentials: true,\r\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n   headers: {\r\n      'API-KEY': '8a6c9bcc-f079-4ea2-9d93-e56079db7d79'\r\n   }\r\n})\r\n\r\nexport const usersAPI = {\r\n   getUsers(currentPage: number, pageSize: number) {\r\n      return instance.get<UsersResponseT>(`users?page=${currentPage}&count=${pageSize}`)\r\n         .then(response => response.data)\r\n   },\r\n   followUser(id: number) {\r\n      return instance.post<GeneralResponseT>(`follow/${id}`)\r\n         .then(response => response.data)\r\n   },\r\n   unFollow(id: number) {\r\n      return instance.delete<GeneralResponseT>(`follow/${id}`)\r\n         .then(response => response.data)\r\n   }\r\n}\r\n\r\nexport const profileAPI = {\r\n   getProfile(userId: number) {\r\n      return instance.get<ProfileResponseT>(`profile/${userId}`)\r\n         .then(response => response.data)\r\n   },\r\n   getStatus(userID: number) {\r\n      return instance.get<string>(`profile/status/${userID}`)\r\n   },\r\n   updateStatus(status: string) {\r\n      return instance.put<GeneralResponseT>(`profile/status`, {status: status})\r\n   },\r\n   savePhoto(photoFile: File) {\r\n      const formData = new FormData()\r\n      formData.append('image', photoFile)\r\n\r\n      return instance.put<PhotoResponseT>(`profile/photo`, formData, {headers: {'Content-Type': 'multipart/form-data'}})\r\n         .then(response => response.data)\r\n   },\r\n   saveProfile(profile: ProfileEditFormType) {\r\n      return instance.put<GeneralResponseT>(`profile`, profile)\r\n   }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n   getUserData() {\r\n      return instance.get<MeResponseT>(`auth/me`)\r\n         .then(response => response.data)\r\n   },\r\n   login(date: FormDataType) {\r\n      return instance.post<LoginResponseT>(`auth/login`, {...date})\r\n         .then(response => response.data)\r\n   },\r\n   logout() {\r\n      return instance.delete<GeneralResponseT>(`auth/login`)\r\n   }\r\n}\r\n\r\nexport const securityApi = {\r\n   getCaptchaUrl() {\r\n      return instance.get<CaptchaResponseT>(`security/get-captcha-url`)\r\n   }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"btn_btn__1OWI4\",\"line\":\"btn_line__2Wm_u\",\"lineTop\":\"btn_lineTop__1Suuu\",\"lineBottom\":\"btn_lineBottom__1O9Rx\",\"lineLeft\":\"btn_lineLeft__2Dh50\",\"lineRight\":\"btn_lineRight__158iC\"};","import {v1} from \"uuid\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppRootStateT} from \"../redux-store\";\r\n\r\nenum ACTION_TYPE_DIALOGS {\r\n   ADD_MESSAGE = 'ADD_MESSAGE',\r\n   UPDATE_NEW_MESSAGE = 'UPDATE_NEW_MESSAGE'\r\n}\r\n\r\ntype ActionType = ReturnType<typeof changeMessageAC> | ReturnType<typeof addMessageAC>\r\n\r\nexport type DialogsPageType = {\r\n   dialogs: Array<DialogsType>\r\n   messages: Array<MessagesType>\r\n   newMessage: string\r\n}\r\ntype DialogsType = {\r\n   id: string\r\n   name: string\r\n}\r\ntype MessagesType = {\r\n   id: string\r\n   message: string\r\n}\r\n\r\nconst initialState: DialogsPageType = {\r\n   dialogs: [\r\n      {id: v1(), name: 'Name1'},\r\n   ],\r\n   messages: [\r\n      {id: v1(), message: 'lorem Yo1'},\r\n   ],\r\n   newMessage: ''\r\n}\r\n\r\nexport const dialogReducer = (state = initialState, action: ActionType): DialogsPageType => {\r\n   switch (action.type) {\r\n      case ACTION_TYPE_DIALOGS.UPDATE_NEW_MESSAGE:\r\n\r\n         return {...state, newMessage: action.newMessage}\r\n\r\n      case ACTION_TYPE_DIALOGS.ADD_MESSAGE:\r\n         const newMess = {id: v1(), message: state.newMessage}\r\n\r\n         return {...state, messages: [...state.messages, newMess], newMessage: ''}\r\n\r\n      default:\r\n         return {...state}\r\n   }\r\n}\r\n\r\nexport const changeMessageAC = (newMessage: string) => {\r\n   return {\r\n      type: ACTION_TYPE_DIALOGS.UPDATE_NEW_MESSAGE,\r\n      newMessage: newMessage\r\n   } as const\r\n}\r\n\r\nexport const addMessageAC = () => {\r\n   return {\r\n      type: ACTION_TYPE_DIALOGS.ADD_MESSAGE,\r\n   } as const\r\n}\r\n","import React, {useState} from \"react\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\n\r\ntype TooltipPropsType = {\r\n   messages: string | null\r\n   severity: \"error\" | \"warning\" | \"info\" | \"success\"\r\n   open: boolean\r\n   anchorOrigin: {\r\n      vertical: 'top' | 'bottom'\r\n      horizontal: \"right\" | 'left' | 'center'\r\n   }\r\n}\r\n\r\nexport const Tooltip: React.FC<TooltipPropsType> = (props) => {\r\n   const {messages, severity, anchorOrigin, open} = props\r\n\r\n   const [openTooltip, setOpenTooltip] = useState<boolean>(open)\r\n   const handleClose = () => setOpenTooltip(false)\r\n\r\n   return (\r\n      <Snackbar\r\n         anchorOrigin={anchorOrigin}\r\n         open={openTooltip}\r\n         autoHideDuration={1000}\r\n         onClose={handleClose}>\r\n         <MuiAlert\r\n            style={{\r\n               fontFamily: `Mochiy Pop P One, sans-serif`,\r\n               letterSpacing: '2px'\r\n            }}\r\n            variant=\"filled\"\r\n            onClose={handleClose}\r\n            severity={severity}>\r\n            {messages}\r\n         </MuiAlert>\r\n      </Snackbar>\r\n   )\r\n}","import React from \"react\";\r\nimport s from './btn.module.scss'\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\ntype PropsType = {\r\n   goAnotherSite: boolean\r\n   link: string\r\n   name: string\r\n   callBack?: () => void\r\n   className?: string\r\n}\r\n\r\nexport const NeonBtn: React.FC<PropsType> = (props) => {\r\n   const {callBack, name, className, link, goAnotherSite} = props\r\n\r\n   const onClickHandler = () => {\r\n      callBack && callBack()\r\n   }\r\n\r\n\r\n   return (\r\n      <>{goAnotherSite\r\n         ? <a href={link} target='blank'>\r\n            <button\r\n               onClick={onClickHandler}\r\n               className={`${s.btn} ${className}`}>\r\n               <span className={`${s.line} ${s.lineTop}`}> </span>\r\n               <span className={`${s.line} ${s.lineLeft}`}> </span>\r\n               <span className={`${s.line} ${s.lineRight}`}> </span>\r\n               <span className={`${s.line} ${s.lineBottom}`}> </span>\r\n               {name}\r\n            </button>\r\n         </a>\r\n         : <Link to={link}>\r\n            <button\r\n               onClick={onClickHandler}\r\n               className={`${s.btn} ${className}`}>\r\n               <span className={`${s.line} ${s.lineTop}`}> </span>\r\n               <span className={`${s.line} ${s.lineLeft}`}> </span>\r\n               <span className={`${s.line} ${s.lineRight}`}> </span>\r\n               <span className={`${s.line} ${s.lineBottom}`}> </span>\r\n               {name}\r\n            </button>\r\n         </Link>\r\n      }\r\n      </>\r\n   )\r\n}","import React from \"react\";\r\nimport s from './homePage.module.scss'\r\nimport {NeonBtn} from \"../common/NeonBtn/NeonBtn\";\r\n\r\nexport const StartPage: React.FC = () => {\r\n   return (\r\n      <div className={s.wrap}>\r\n\r\n         <h1 className={s.mainTitle}>Social Network </h1>\r\n         <p className={s.desc}>\r\n            Yo stranger, this is SPA a small social network, a pet project on which a juniors developer trains.\r\n         </p>\r\n         <p className={s.desc}>\r\n            To see the entire stack that I have used go to my\r\n            <a target='blank' href=\"https://github.com/MrGentelman/Social_network_React_Redux\">GitHub</a>\r\n         </p>\r\n         <div className={s.descTeh}>\r\n            <span>To test the application, you need to register or log in.</span>\r\n            <div className={s.btnGroup}>\r\n               <NeonBtn goAnotherSite={true} link={'https://social-network.samuraijs.com/signUp'} name={'Register'}/>\r\n               <NeonBtn goAnotherSite={false} link={'/login'} name={'Login'}/>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   )\r\n}","import React, {useState} from \"react\";\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {\r\n   Button,\r\n   Checkbox,\r\n   Container,\r\n   FormControlLabel,\r\n   makeStyles,\r\n   TextField\r\n} from \"@material-ui/core\";\r\nimport * as yup from 'yup';\r\nimport {yupResolver} from \"@hookform/resolvers/yup\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {FormDataType, login, UserDataType} from \"../../redux/reducer/auth-reducer\";\r\nimport {AppRootStateT} from \"../../redux/redux-store\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport s from './form.module.scss'\r\n\r\nexport const LoginPage: React.FC = () => {\r\n   const isAuth = useSelector<AppRootStateT, boolean>(state => state.auth.isAuth)\r\n   const authorizedUser = useSelector<AppRootStateT, UserDataType | null>(state => state.auth.userData)\r\n\r\n   if (isAuth) {\r\n      return <Navigate to={authorizedUser ? `/profile/${authorizedUser.id}` : '/login'}/>\r\n   }\r\n\r\n   return <LoginForm/>\r\n}\r\n\r\nconst LoginForm: React.FC = () => {\r\n   const statusMessages = useSelector<AppRootStateT, string>(state => state.auth.statusMessages)\r\n   const resultStatusMessage = useSelector<AppRootStateT, boolean>(state => state.auth.resultStatusMessage)\r\n   const captchaUrl = useSelector<AppRootStateT, string | null>(state => state.auth.captchaUrl)\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   const [openTooltip, setOpenTooltip] = useState<boolean>(false)\r\n   const handleClick = () => setOpenTooltip(true)\r\n   const handleClose = () => setOpenTooltip(false)\r\n\r\n   const schema = yup.object().shape({\r\n      email: yup\r\n         .string()\r\n         .email('Email should have correct format')\r\n         .required('Email is a required field'),\r\n      password: yup\r\n         .string()\r\n         .required('Password is a required field')\r\n   })\r\n\r\n   const {register, handleSubmit, formState: {errors}} = useForm<FormDataType>({\r\n      mode: \"onBlur\",\r\n      resolver: yupResolver(schema)\r\n   });\r\n\r\n   const onSubmit: SubmitHandler<FormDataType> = (data) => dispatch(login(data))\r\n\r\n   const useStyles = makeStyles(() => ({\r\n      position: {\r\n         display: 'flex',\r\n         justifyContent: 'center',\r\n         flexDirection: 'column',\r\n         alignItems: 'center'\r\n      },\r\n      container: {\r\n         padding: '100px 0'\r\n      }\r\n   }))\r\n\r\n   return (\r\n      <Container className={`${useStyles().position} ${useStyles().container}`}>\r\n         <Snackbar\r\n            anchorOrigin={{vertical: 'top', horizontal: \"right\"}}\r\n            open={openTooltip}\r\n            autoHideDuration={2000}\r\n            onClose={handleClose}>\r\n            <MuiAlert\r\n               style={{\r\n                  fontFamily: `Mochiy Pop P One, sans-serif`,\r\n                  letterSpacing: '2px'\r\n               }}\r\n               variant=\"filled\"\r\n               onClose={handleClose}\r\n               severity={resultStatusMessage ? 'success' : 'error'}>\r\n               {statusMessages}\r\n            </MuiAlert>\r\n         </Snackbar>\r\n\r\n         <form\r\n            className={`${useStyles().position} ${s.width}`}\r\n            noValidate\r\n            onSubmit={handleSubmit(onSubmit)}>\r\n\r\n            <TextField\r\n               fullWidth\r\n               helperText={errors.email?.message}\r\n               error={!!errors.email}\r\n               id={'email'}\r\n               required\r\n               label={'Email'}\r\n               type={\"text\"}\r\n               autoComplete={\"username\"}\r\n               margin={\"normal\"}\r\n               variant={'outlined'}\r\n               {...register(\"email\", {required: true})} />\r\n\r\n            <TextField\r\n               required\r\n               fullWidth\r\n               helperText={errors.password?.message}\r\n               error={!!errors.password}\r\n               id={'password'}\r\n               label={'Password'}\r\n               type={\"password\"}\r\n               autoComplete={\"current-password\"}\r\n               margin={\"normal\"}\r\n               variant={'outlined'}\r\n               {...register('password', {required: true})} />\r\n\r\n            <FormControlLabel style={{\r\n               margin: '20px 0',\r\n               alignSelf: 'self-start'\r\n            }} control={\r\n               <Checkbox\r\n                  color={'primary'}\r\n                  {...register(\"remember\", {required: false})}/>\r\n            } label={'Remember me?'}/>\r\n\r\n\r\n            {captchaUrl &&\r\n            <div style={{\r\n               marginBottom: '20px',\r\n               textAlign: 'center'\r\n            }}>\r\n               <img src={captchaUrl} alt=\"captcha\"/>\r\n               <TextField\r\n                  required\r\n                  fullWidth\r\n                  size={'small'}\r\n                  helperText={errors.captcha?.message}\r\n                  error={!!errors.captcha}\r\n                  label={'Enter captcha'}\r\n                  margin={\"normal\"}\r\n                  variant={'outlined'}\r\n                  {...register('captcha', {required: true})} />\r\n            </div>\r\n            }\r\n\r\n            <Button\r\n               style={{\r\n                  fontFamily: `Mochiy Pop P One, sans-serif`\r\n               }}\r\n               fullWidth\r\n               variant={\"contained\"}\r\n               color=\"primary\"\r\n               onClick={handleClick}\r\n               type={\"submit\"}>Login</Button>\r\n         </form>\r\n      </Container>\r\n   )\r\n}\r\n\r\nexport default LoginPage","import React from \"react\";\r\nimport s from './notFound.module.scss'\r\n\r\n\r\nexport const NotFound: React.FC = () => {\r\n\r\n\r\n   return (\r\n      <div className={s.wrap}>\r\n         <h4 className={s.title}>404 Page Not Found</h4>\r\n      </div>\r\n   )\r\n}\r\n\r\n","import React, {Suspense} from \"react\";\r\nimport {Route, Routes} from \"react-router-dom\";\r\nimport {StartPage} from \"../components/StartPage/StartPage\";\r\nimport LoginFormContainer from \"../components/Login/LoginForm\";\r\nimport {ProfileContainer} from \"../components/Profile/Profile\";\r\nimport {NotFound} from \"../components/common/NotFound/NotFound\";\r\nimport {Preloader} from \"../components/common/Preloader/Preloader\";\r\n\r\nconst ProfileContainerTest = React.lazy(() => import('../components/Profile/Profile'));\r\nconst UsersContainer = React.lazy(() => import('../components/Users/UsersContainer'));\r\nconst GeneralChat = React.lazy(() => import('../components/GeneralChat/Chat'));\r\n\r\nexport const Routers = () => {\r\n   return (\r\n      <Suspense fallback={<Preloader/>}>\r\n         <Routes>\r\n            <Route index element={<StartPage/>}/>\r\n            <Route path={'/login'} element={<LoginFormContainer/>}/>\r\n            <Route path={'/profile/:userId'} element={<ProfileContainer/>}/>\r\n            <Route path={'/chat'} element={<GeneralChat/>}/>\r\n            <Route path={'/users'} element={<UsersContainer/>}/>\r\n            <Route path={'*'} element={<NotFound/>}/>\r\n         </Routes>\r\n      </Suspense>\r\n   )\r\n}","import React, {useState} from \"react\";\r\nimport style from './burger.module.scss'\r\n\r\ntype ButtonBurgerPropsT = {\r\n   toggleOpenMenu: () => void\r\n}\r\n\r\nexport const ButtonBurger: React.FC<ButtonBurgerPropsT> = (props) => {\r\n   const [open, setOpen] = useState(true)\r\n\r\n   const finalClassName = open ? `${style.header__burger} ${style.open}` : style.header__burger\r\n\r\n   const onClickHandler = () => {\r\n      setOpen(state => !state)\r\n      props.toggleOpenMenu()\r\n   }\r\n\r\n   return (\r\n      <button onClick={onClickHandler} className={finalClassName}>\r\n         <span className={style.header__line}> </span>\r\n         <span className={style.header__line}> </span>\r\n         <span className={style.header__line}> </span>\r\n      </button>\r\n   )\r\n}","import React, {useState} from \"react\"\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateT} from \"../../redux/redux-store\";\r\nimport {UserDataType} from \"../../redux/reducer/auth-reducer\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport {CommentOutlined, CustomerServiceOutlined, ProfileOutlined, UserOutlined} from \"@ant-design/icons\";\r\nimport {ButtonBurger} from \"../common/ButtonBurger/ButtonBurger\";\r\nimport s from './Sidebar.module.scss'\r\nimport {MusicNote} from \"@mui/icons-material\";\r\n\r\nexport const Sidebar = () => {\r\n   const authorizedUser = useSelector<AppRootStateT, UserDataType | null>(state => state.auth.userData)\r\n   const [collapsed, setCollapsed] = useState<boolean>(false)\r\n   const [scrollDistance, setScrollDistance] = useState<boolean>(false)\r\n\r\n   const onClickHandler = () => setCollapsed(state => !state)\r\n\r\n   window.addEventListener('scroll', () => {\r\n      let scrollDistance = window.scrollY\r\n      scrollDistance > 80 ? setScrollDistance(true) : setScrollDistance(false)\r\n   })\r\n\r\n   window.addEventListener('resize', () => {\r\n      if (window.innerWidth < 750) setCollapsed(state => false)\r\n   })\r\n\r\n   const fixedSideBarClassName = collapsed\r\n      ? `${s.fixedSideBar} ${scrollDistance ? s.fixed : ''}`\r\n      : `${s.fixedSideBar} ${s.open} ${scrollDistance ? s.fixed : ''}`\r\n\r\n   return (\r\n      <Layout.Sider\r\n         trigger={null}\r\n         collapsible\r\n         className={collapsed ? s.layoutHidden : `${s.layoutHidden} ${s.open}`}\r\n         collapsed={collapsed}\r\n         onCollapse={onClickHandler}>\r\n         <div className={fixedSideBarClassName}>\r\n            <div className={collapsed ? s.sideBarTrigger : `${s.sideBarTrigger} ${s.open}`}>\r\n               <ButtonBurger toggleOpenMenu={onClickHandler}/>\r\n            </div>\r\n            <Menu theme=\"dark\" mode=\"inline\">\r\n               <Menu.Item key=\"1\" icon={<ProfileOutlined/>}>\r\n                  <Link to={authorizedUser ? `/profile/${authorizedUser.id}` : '/'}>Profile</Link>\r\n               </Menu.Item>\r\n\r\n               <Menu.Item key=\"2\" icon={<UserOutlined/>}>\r\n                  <Link to=\"/users\">Users</Link>\r\n               </Menu.Item>\r\n\r\n               <Menu.Item key=\"3\" icon={<CommentOutlined/>}>\r\n                  <Link to=\"/chat\">General Chat</Link>\r\n               </Menu.Item>\r\n\r\n               <Menu.Item key=\"4\" icon={<CustomerServiceOutlined/>}>\r\n                  <Link to=\"/music\">Spotify Music</Link>\r\n               </Menu.Item>\r\n            </Menu>\r\n         </div>\r\n      </Layout.Sider>\r\n   )\r\n}","import {Button, makeStyles} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport s from './Header.module.scss'\r\nimport {Avatar, Layout} from \"antd\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AuthStateType, logout} from \"../../redux/reducer/auth-reducer\";\r\nimport {AppRootStateT} from \"../../redux/redux-store\";\r\nimport {PhotoType} from \"../../redux/reducer/profile-reducer\";\r\n\r\n\r\nexport const Header: React.FC = (props) => {\r\n   const navigate = useNavigate()\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   const authDate = useSelector<AppRootStateT, AuthStateType>(state => state.auth)\r\n\r\n   const avatar = useSelector<AppRootStateT, PhotoType | null>(state => state.auth.photo)\r\n\r\n   const onClickHandlerLogout = () => {\r\n      dispatch(logout())\r\n      navigate('/')\r\n   }\r\n\r\n   const onClickHandlerLogin = () => navigate('/login')\r\n\r\n   const style = makeStyles(() => ({\r\n      default: {\r\n         marginLeft: '20px',\r\n         fontFamily: `Mochiy Pop P One, sans-serif`\r\n      }\r\n   }))\r\n\r\n   return (\r\n      <Layout.Header className={s.header}>\r\n         <Avatar src={avatar?.small} size={'large'}/>\r\n\r\n         {authDate.userData?.login\r\n            ? <div className={s.loginBlock}>\r\n               Welcome {authDate.userData?.login}\r\n               <Button\r\n                  className={style().default}\r\n                  onClick={onClickHandlerLogout}\r\n                  variant={\"contained\"}\r\n                  color=\"primary\">Logout</Button>\r\n            </div>\r\n            : <div className={s.loginBlock}>\r\n               <Button\r\n                  className={style().default}\r\n                  onClick={onClickHandlerLogin}\r\n                  variant={\"contained\"}\r\n                  color=\"primary\">Login</Button>\r\n            </div>}\r\n      </Layout.Header>\r\n   )\r\n}","import React, {useEffect, useCallback} from 'react';\nimport {HashRouter} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppRootStateT} from \"./redux/redux-store\";\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\nimport {AppStateType, initializedApp, installCaughtError} from \"./redux/reducer/app-reducer\";\nimport {Tooltip} from \"./components/common/Tooltip/Tooltip\";\nimport 'antd/dist/antd.css';\nimport {Layout, Breadcrumb} from 'antd';\nimport {Routers} from \"./Router/Routes\";\nimport {Sidebar} from \"./components/Sidebar/Sidebar\";\nimport s from './App.module.scss'\nimport {Header} from \"./components/Header/Header\";\n\nconst App: React.FC = (props) => {\n   const {initialized, catchError} = useSelector<AppRootStateT, AppStateType>(state => state.app)\n\n   const dispatch = useDispatch()\n\n   const {Content, Footer,} = Layout;\n\n   const catchUnhandledRejection = useCallback((e: PromiseRejectionEvent) => {\n      dispatch(installCaughtError(e.reason.message, 'error'))\n   }, [dispatch])\n\n   useEffect(() => {\n      dispatch(initializedApp())\n   }, [dispatch])\n\n   useEffect(() => {\n      window.addEventListener('unhandledrejection', catchUnhandledRejection)\n\n      return () => {\n         window.removeEventListener('unhandledrejection', catchUnhandledRejection)\n      }\n   }, [catchUnhandledRejection])\n\n   if (!initialized) {\n      return <Preloader/>\n   }\n\n   return (\n      <HashRouter>\n         <Layout>\n            <Header/>\n            <Layout className={s.layoutSider} style={{minHeight: '100vh', margin: '15px 0 0 0'}}>\n               <Sidebar/>\n               <Layout className={s.siteLayout}>\n\n                  <Content className={s.content}>\n                     {/*<Breadcrumb style={{margin: '16px 0'}}>*/}\n                     {/*   <Breadcrumb.Item>User</Breadcrumb.Item>*/}\n                     {/*   <Breadcrumb.Item>Bill</Breadcrumb.Item>*/}\n                     {/*</Breadcrumb>*/}\n                     <div className=\"site-layout-background\" style={{padding: 10, minHeight: 360}}>\n                        <Routers/>\n                     </div>\n                  </Content>\n                  <Footer className={s.footer}>Small Developer 2021 Created by Mr. Nobody</Footer>\n               </Layout>\n            </Layout>\n         </Layout>\n\n         {catchError.error &&\n         <Tooltip\n            messages={catchError.messageError}\n            severity={catchError.severity} open={catchError.error}\n            anchorOrigin={{vertical: 'top', horizontal: 'center'}}/>}\n      </HashRouter>\n   )\n}\n\nexport default App","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {profileReducer} from \"./reducer/profile-reducer\";\r\nimport {dialogReducer} from \"./reducer/dialog-reducer\";\r\nimport {usersReducer} from \"./reducer/users-reducer\";\r\nimport {authReducer} from \"./reducer/auth-reducer\";\r\nimport thunk from 'redux-thunk'\r\nimport {appReducer} from \"./reducer/app-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n   profilePage: profileReducer,\r\n   dialogsPage: dialogReducer,\r\n   usersPage: usersReducer,\r\n   auth: authReducer,\r\n   app: appReducer\r\n})\r\n\r\nexport type AppRootStateT = ReturnType<typeof rootReducer>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {store} from './redux/redux-store';\nimport {Provider} from \"react-redux\";\n\n\nReactDOM.render(\n   <Provider store={store}>\n      <App/>\n   </Provider>,\n   document.getElementById('root')\n)\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {Dispatch} from \"redux\";\r\nimport {v1} from \"uuid\";\r\nimport {profileAPI, RESULT_CODE} from \"../../api/api\";\r\nimport {AppRootStateT} from \"../redux-store\";\r\nimport {installCaughtError} from \"./app-reducer\";\r\nimport {restoreState, saveState} from \"./localStorage/localStorage\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\nexport enum ACTION_TYPE_PROFILE {\r\n   ADD_POST = 'social_network/profile/ADD_POST',\r\n   UPDATE_NEW_POST = 'social_network/profile/UPDATE_NEW_POST',\r\n   SET_USER_PROFILE = 'social_network/profile/SET_USER_PROFILE',\r\n   SET_STATUS = 'social_network/profile/SET_STATUS',\r\n   SAVE_PHOTO = 'social_network/profile/SAVE_PHOTO',\r\n   SET_LIKE = 'social_network/profile/SET_LIKE',\r\n   DELETE_POST = 'social_network/profile/DELETE_POST',\r\n   GET_USER_POST = 'social_network/profile/GET_USER_POST',\r\n}\r\n\r\ntype ActionType = ReturnType<typeof addPostAC>\r\n   | ReturnType<typeof changeTextAC>\r\n   | ReturnType<typeof setUserProfileAC>\r\n   | ReturnType<typeof setStatusAC>\r\n   | ReturnType<typeof savePhotoSuccess>\r\n   | ReturnType<typeof setLike>\r\n   | ReturnType<typeof deletePost>\r\n   | ReturnType<typeof getUserPost>\r\n\r\ntype ThunkActionT = ThunkAction<void, AppRootStateT, unknown, ActionType>\r\n\r\nexport type ProfileEditFormType = {\r\n   aboutMe: string\r\n   fullName: string\r\n   lookingForAJob: boolean\r\n   lookingForAJobDescription: string\r\n   contacts: {\r\n      github: string\r\n      vk: string\r\n      facebook: string\r\n      instagram: string\r\n      twitter: string\r\n      website: string\r\n      youtube: string\r\n      mainLink: string\r\n   }\r\n}\r\n\r\nexport type ProfilePageType = {\r\n   posts: PostsType[] | []\r\n   newPostText: string\r\n   profile: null | ProfileType\r\n   status: string\r\n}\r\ntype PostsType = {\r\n   id: string\r\n   message: string\r\n   likesCount: number\r\n}\r\n\r\nexport type ContactsType = {\r\n   facebook: string\r\n   github: string\r\n   instagram: string\r\n   mainLink: string\r\n   twitter: string\r\n   vk: string\r\n   website: string\r\n   youtube: string\r\n}\r\n\r\nexport type PhotoType = {\r\n   small: string | null\r\n   large: string | null\r\n}\r\n\r\nexport type ProfileType = {\r\n   aboutMe: string\r\n   contacts: ContactsType\r\n   fullName: string\r\n   lookingForAJob: boolean\r\n   lookingForAJobDescription: string\r\n   photos: PhotoType\r\n   userId: number\r\n}\r\n\r\n\r\nconst initialState: ProfilePageType = {\r\n   profile: null,\r\n   posts: [],\r\n   newPostText: '',\r\n   status: ''\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action: ActionType): ProfilePageType => {\r\n   switch (action.type) {\r\n      case ACTION_TYPE_PROFILE.ADD_POST: {\r\n         const stateCopy = {\r\n            ...state,\r\n            newPostText: '',\r\n            posts: [{\r\n               id: v1(),\r\n               message: state.newPostText,\r\n               likesCount: 0,\r\n            }, ...state.posts]\r\n         }\r\n\r\n         saveState<PostsType[]>(`userPosts:${stateCopy.profile?.userId}`, [...stateCopy.posts])\r\n\r\n         return stateCopy\r\n      }\r\n\r\n      case ACTION_TYPE_PROFILE.UPDATE_NEW_POST:\r\n         return {...state, newPostText: action.newText}\r\n\r\n      case ACTION_TYPE_PROFILE.SET_USER_PROFILE:\r\n         return {...state, profile: action.profile}\r\n\r\n      case ACTION_TYPE_PROFILE.SET_STATUS:\r\n         return {...state, status: action.status}\r\n\r\n      case ACTION_TYPE_PROFILE.SAVE_PHOTO:\r\n         return {...state, profile: state.profile && {...state.profile, ...action.photos}}\r\n\r\n      case ACTION_TYPE_PROFILE.SET_LIKE: {\r\n         const stateCopy = {\r\n            ...state,\r\n            posts: state.posts.map(p => p.id === action.id ? {...p, likesCount: action.like} : p)\r\n         }\r\n\r\n         saveState<PostsType[]>(`userPosts:${stateCopy.profile?.userId}`, [...stateCopy.posts])\r\n\r\n         return stateCopy\r\n      }\r\n\r\n      case ACTION_TYPE_PROFILE.GET_USER_POST:\r\n         return {...state, posts: action.post}\r\n\r\n      case ACTION_TYPE_PROFILE.DELETE_POST: {\r\n         const stateCopy = {...state, posts: state.posts.filter(p => p.id !== action.id)}\r\n\r\n         saveState<PostsType[]>(`userPosts:${stateCopy.profile?.userId}`, [...stateCopy.posts])\r\n\r\n         return stateCopy\r\n      }\r\n\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\nexport const addPostAC = () => {\r\n   return {\r\n      type: ACTION_TYPE_PROFILE.ADD_POST\r\n   } as const\r\n}\r\n\r\nexport const getUserPost = (post: PostsType[]) => {\r\n   return {\r\n      type: ACTION_TYPE_PROFILE.GET_USER_POST,\r\n      post\r\n   } as const\r\n}\r\n\r\nexport const changeTextAC = (newText: string) => {\r\n   return {\r\n      type: ACTION_TYPE_PROFILE.UPDATE_NEW_POST,\r\n      newText: newText\r\n   } as const\r\n}\r\n\r\nexport const setUserProfileAC = (profile: ProfileType) => {\r\n   return {\r\n      type: ACTION_TYPE_PROFILE.SET_USER_PROFILE,\r\n      profile\r\n   } as const\r\n}\r\n\r\nexport const setStatusAC = (status: string) => {\r\n   return {\r\n      type: ACTION_TYPE_PROFILE.SET_STATUS,\r\n      status\r\n   } as const\r\n}\r\n\r\nexport const savePhotoSuccess = (photos: PhotoType) => {\r\n   return {\r\n      type: ACTION_TYPE_PROFILE.SAVE_PHOTO,\r\n      photos\r\n   } as const\r\n}\r\nexport const setLike = (like: number, id: string) => {\r\n   return {\r\n      type: ACTION_TYPE_PROFILE.SET_LIKE,\r\n      like,\r\n      id\r\n   } as const\r\n}\r\n\r\nexport const deletePost = (id: string) => {\r\n   return {\r\n      type: ACTION_TYPE_PROFILE.DELETE_POST,\r\n      id\r\n   } as const\r\n}\r\n\r\nexport const setLikeSuccess = (like: number, id: string) => (dispatch: Dispatch<ActionType>) => {\r\n   dispatch(setLike(like, id))\r\n}\r\n\r\nexport const deletePostSuccess = (id: string) => (dispatch: Dispatch<ActionType>) => {\r\n   dispatch(deletePost(id))\r\n}\r\n\r\nexport const setUserProfile = (id: number) => {\r\n   return async (dispatch: Dispatch<ActionType>) => {\r\n      const data = await profileAPI.getProfile(id)\r\n\r\n      dispatch(setUserProfileAC(data))\r\n      dispatch(getUserPost(restoreState<PostsType[]>(`userPosts:${id}`, [])))\r\n   }\r\n}\r\n\r\nexport const getStatus = (id: number) => (dispatch: Dispatch<ActionType>) => {\r\n   profileAPI.getStatus(id)\r\n      .then(response => {\r\n         dispatch(setStatusAC(response.data))\r\n      })\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkActionT => (dispatch) => {\r\n   profileAPI.updateStatus(status)\r\n      .then(response => {\r\n         response.data.resultCode === RESULT_CODE.SUCCESSFULLY && dispatch(setStatusAC(status))\r\n         response.data.resultCode !== RESULT_CODE.SUCCESSFULLY && dispatch(installCaughtError(response.data.messages[0], 'warning'))\r\n      })\r\n}\r\n\r\nexport const savePhoto = (file: File): ThunkActionT => async (dispatch) => {\r\n   const response = await profileAPI.savePhoto(file)\r\n\r\n   response.resultCode === RESULT_CODE.SUCCESSFULLY && dispatch(savePhotoSuccess(response.data))\r\n   response.resultCode !== RESULT_CODE.SUCCESSFULLY && dispatch(installCaughtError(response.messages[0], 'warning'))\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileEditFormType): ThunkActionT => async (dispatch, getState) => {\r\n   const userId = getState().auth.userData?.id\r\n   const response = await profileAPI.saveProfile(profile)\r\n\r\n   response.data.resultCode === RESULT_CODE.SUCCESSFULLY && userId && await dispatch(setUserProfile(userId))\r\n   response.data.resultCode !== RESULT_CODE.SUCCESSFULLY && dispatch(installCaughtError(response.data.messages[0], 'warning'))\r\n}\r\n","//         \n// (        ):\nexport function saveState<T>(key: string, state: T) {\n   const stateAsString = JSON.stringify(state)\n   localStorage.setItem(key, stateAsString)\n}\n\n//           :\nexport function restoreState<T>(key: string, defaultState: T) {\n   let state = defaultState\n   const stateAsString = localStorage.getItem(key)\n   if (stateAsString !== null) state = JSON.parse(stateAsString) as T\n   return state\n}\n\n","import {Action, Dispatch} from \"redux\";\r\nimport {getUserData} from \"./auth-reducer\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppRootStateT} from \"../redux-store\";\r\n\r\nexport enum ACTION_TYPE_APP {\r\n   SUCCESSFUL_INITIALIZATION = 'social_network/app/SUCCESSFUL_INITIALIZATION',\r\n   CATCH_ERROR = 'social_network/app/CATCH_ERROR',\r\n}\r\n\r\nexport type SeverityTooltipType = \"error\" | \"warning\" | \"info\" | \"success\"\r\n\r\nexport type AppStateType = {\r\n   initialized: boolean\r\n   catchError: {\r\n      error: boolean\r\n      messageError: string | null\r\n      severity: SeverityTooltipType\r\n   }\r\n}\r\n\r\ntype ActionType = ReturnType<typeof setInitialized> | ReturnType<typeof catchError>\r\n\r\ntype ThunkActionT = ThunkAction<void, AppRootStateT, unknown, ActionType>\r\n\r\nconst initialState: AppStateType = {\r\n   initialized: false,\r\n   catchError: {\r\n      error: false,\r\n      messageError: null,\r\n      severity: 'info'\r\n   }\r\n}\r\n\r\nexport const appReducer = (state = initialState, action: ActionType): AppStateType => {\r\n   switch (action.type) {\r\n      case ACTION_TYPE_APP.SUCCESSFUL_INITIALIZATION:\r\n         return {...state, initialized: true}\r\n\r\n      case ACTION_TYPE_APP.CATCH_ERROR:\r\n         return {\r\n            ...state,\r\n            catchError: {\r\n               error: true,\r\n               messageError: action.message,\r\n               severity: action.severity\r\n            }\r\n         }\r\n\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\nconst setInitialized = () => ({type: ACTION_TYPE_APP.SUCCESSFUL_INITIALIZATION} as const)\r\nconst catchError = (message: string | null, severity: SeverityTooltipType) => ({\r\n   type: ACTION_TYPE_APP.CATCH_ERROR,\r\n   message,\r\n   severity\r\n} as const)\r\n\r\nexport const initializedApp = (): ThunkActionT =>\r\n   (dispatch) => {\r\n      Promise.all([\r\n         dispatch(getUserData())\r\n      ]).then(() => dispatch(setInitialized()))\r\n   }\r\n\r\nexport const installCaughtError = (message: string, severity: SeverityTooltipType) => (dispatch: Dispatch<ActionType>) => {\r\n   dispatch(catchError(message, severity))\r\n\r\n   setTimeout(() => dispatch(catchError(null, \"info\")), 2000)\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrap\":\"ProfileInfo_profileWrap__B9Oug\",\"profileBackground\":\"ProfileInfo_profileBackground__1EXK7\",\"profileAvatar\":\"ProfileInfo_profileAvatar__2DQ5c\",\"profileContactList\":\"ProfileInfo_profileContactList__cGMAQ\",\"profileContact\":\"ProfileInfo_profileContact__3aWXI\",\"profileContactItem\":\"ProfileInfo_profileContactItem__Biqz9\",\"profileDesc\":\"ProfileInfo_profileDesc__1u0P4\",\"defaultLink\":\"ProfileInfo_defaultLink__3B6pF\",\"linkFacebook\":\"ProfileInfo_linkFacebook__3dQgs\",\"linkWebsite\":\"ProfileInfo_linkWebsite__1W9cR\",\"linkVk\":\"ProfileInfo_linkVk__f_G3R\",\"linkTwitter\":\"ProfileInfo_linkTwitter__TBUFl\",\"linkInstagram\":\"ProfileInfo_linkInstagram__24zCU\",\"linkYoutube\":\"ProfileInfo_linkYoutube__1Trit\",\"linkGithub\":\"ProfileInfo_linkGithub__33IIB\",\"linkMainLink\":\"ProfileInfo_linkMainLink__M8weN\",\"linkNone\":\"ProfileInfo_linkNone__1im-k\",\"contactTitle\":\"ProfileInfo_contactTitle__268MY\",\"profileContent\":\"ProfileInfo_profileContent__2Umgi\",\"profileAbout\":\"ProfileInfo_profileAbout__BSJvA\",\"profileInfo\":\"ProfileInfo_profileInfo__2q7Sc\",\"aboutMe\":\"ProfileInfo_aboutMe__7gKZv\",\"fullName\":\"ProfileInfo_fullName__EBVxg\",\"lookingForAJob\":\"ProfileInfo_lookingForAJob__1XqWU\",\"lookingForAJobDescription\":\"ProfileInfo_lookingForAJobDescription__3sjF8\",\"spanDefault\":\"ProfileInfo_spanDefault__18Ukc\",\"statusUser\":\"ProfileInfo_statusUser__oLX-W\",\"status\":\"ProfileInfo_status__KdLmX\",\"editBlock\":\"ProfileInfo_editBlock__1nQbg\",\"profileEditForm\":\"ProfileInfo_profileEditForm__3yVri\",\"profileEditWrap\":\"ProfileInfo_profileEditWrap__yVP2V\",\"profileEditInfo\":\"ProfileInfo_profileEditInfo__33pjq\",\"profileEditContact\":\"ProfileInfo_profileEditContact__1c_Zp\",\"profileEditContactWrap\":\"ProfileInfo_profileEditContactWrap__1C8N0\",\"profileEditContactLeft\":\"ProfileInfo_profileEditContactLeft__3xhWt\",\"profileEditContactRight\":\"ProfileInfo_profileEditContactRight__sjte5\",\"profileEditContactDesc\":\"ProfileInfo_profileEditContactDesc__3IMtK\",\"profileEditInfoDesc\":\"ProfileInfo_profileEditInfoDesc__2RFJc\",\"contactsWrap\":\"ProfileInfo_contactsWrap__2Z5or\",\"flexLeft\":\"ProfileInfo_flexLeft__Cx2-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideBarTrigger\":\"Sidebar_sideBarTrigger__cbbc0\",\"open\":\"Sidebar_open__133X3\",\"fixedSideBar\":\"Sidebar_fixedSideBar__20Ew9\",\"fixed\":\"Sidebar_fixed__1SHh_\",\"layoutHidden\":\"Sidebar_layoutHidden__RVJfC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__TAaRa\",\"wrap\":\"Post_wrap__3ronV\",\"desc\":\"Post_desc__1Hku2\",\"postAvatar\":\"Post_postAvatar__3Wwtn\",\"like\":\"Post_like__3S5hL\",\"likeControl\":\"Post_likeControl__hxRjN\",\"dislike\":\"Post_dislike__eWu5R\",\"likeCount\":\"Post_likeCount__34j-k\",\"postWrap\":\"Post_postWrap__3ZOwr\",\"clearIcon\":\"Post_clearIcon__1EH6E\"};","import {Dispatch} from \"redux\";\r\nimport {authAPI, profileAPI, RESULT_CODE, securityApi} from \"../../api/api\";\r\nimport {installCaughtError} from \"./app-reducer\";\r\nimport {PhotoType} from \"./profile-reducer\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppRootStateT} from \"../redux-store\";\r\n\r\nexport enum ACTION_TYPE_AUTH {\r\n   SET_USER_DATA = 'social_network/auth/SET_USER_DATA',\r\n   SET_RESULT_STATUS = 'social_network/auth/SET_RESULT_STATUS',\r\n   GET_CAPTCHA_SUCCESS = 'social_network/auth/GET_CAPTCHA_SUCCESS',\r\n   SET_PHOTO = 'social_network/auth/SET_PHOTO',\r\n}\r\n\r\nexport type FormDataType = {\r\n   email: string,\r\n   password: string,\r\n   remember: boolean\r\n   captcha: string\r\n}\r\n\r\nexport type UserDataType = {\r\n   id: number\r\n   email: string\r\n   login: string\r\n}\r\n\r\nexport type AuthStateType = {\r\n   userData: UserDataType | null\r\n   photo: PhotoType | null\r\n   isAuth: boolean\r\n   statusMessages: string\r\n   resultStatusMessage: boolean\r\n   captchaUrl: string | null\r\n}\r\n\r\ntype ActionType = ReturnType<typeof setUserDataAC>\r\n   | ReturnType<typeof setStatusMessAC>\r\n   | ReturnType<typeof getCaptchaUrlSuccess>\r\n   | ReturnType<typeof setAuthorizedUserPhoto>\r\n\r\ntype ThunkActionT = ThunkAction<void, AppRootStateT, unknown, ActionType>\r\n\r\nconst initialState: AuthStateType = {\r\n   userData: null,\r\n   isAuth: false,\r\n   photo: null,\r\n   statusMessages: '',\r\n   resultStatusMessage: true,\r\n   captchaUrl: null\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: ActionType): AuthStateType => {\r\n   switch (action.type) {\r\n      case ACTION_TYPE_AUTH.SET_USER_DATA:\r\n         return {...state, userData: action.userData, isAuth: action.isAuth}\r\n\r\n      case ACTION_TYPE_AUTH.SET_RESULT_STATUS:\r\n         return {\r\n            ...state,\r\n            statusMessages: action.message,\r\n            resultStatusMessage: action.resultStatusMessage\r\n         }\r\n      case ACTION_TYPE_AUTH.GET_CAPTCHA_SUCCESS:\r\n         return {...state, captchaUrl: action.url}\r\n\r\n      case ACTION_TYPE_AUTH.SET_PHOTO:\r\n         return {...state, photo: action.photo}\r\n\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\nexport const setUserDataAC = (userData: UserDataType | null, isAuth: boolean) => {\r\n   return {\r\n      type: ACTION_TYPE_AUTH.SET_USER_DATA,\r\n      userData,\r\n      isAuth,\r\n   } as const\r\n}\r\n\r\nexport const setStatusMessAC = (message: string, resultStatusMessage: boolean) => ({\r\n   type: ACTION_TYPE_AUTH.SET_RESULT_STATUS,\r\n   message,\r\n   resultStatusMessage\r\n} as const)\r\n\r\nexport const getUserData = () => {\r\n   return async (dispatch: Dispatch<ActionType>) => {\r\n      const response = await authAPI.getUserData()\r\n\r\n      if (response.resultCode === 0) {\r\n         dispatch(setUserDataAC(response.data, true))\r\n\r\n         const authUserProfile = await profileAPI.getProfile(response.data.id)\r\n         dispatch(setAuthorizedUserPhoto(authUserProfile.photos))\r\n      }\r\n\r\n      response.resultCode !== 0 && dispatch(setStatusMessAC(response.messages[0], false))\r\n   }\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (url: string) => ({\r\n   type: ACTION_TYPE_AUTH.GET_CAPTCHA_SUCCESS,\r\n   url\r\n} as const)\r\n\r\nexport const setAuthorizedUserPhoto = (photo: PhotoType) => ({\r\n   type: ACTION_TYPE_AUTH.SET_PHOTO,\r\n   photo\r\n} as const)\r\n\r\nexport const login = (data: FormDataType): ThunkActionT => {\r\n   return async (dispatch) => {\r\n      const response = await authAPI.login(data)\r\n\r\n      response.resultCode !== RESULT_CODE.SUCCESSFULLY && dispatch(setStatusMessAC(response.messages[0], false))\r\n      response.resultCode === RESULT_CODE.CAPTCHA && await dispatch(getCaptchaUrl())\r\n\r\n      if (response.resultCode === RESULT_CODE.SUCCESSFULLY) {\r\n         dispatch(setStatusMessAC('Successful login', true))\r\n\r\n         await dispatch(getUserData())\r\n      }\r\n   }\r\n}\r\n\r\nexport const logout = (): ThunkActionT => {\r\n   return async (dispatch) => {\r\n      const response = await authAPI.logout()\r\n\r\n      response.data.resultCode === RESULT_CODE.SUCCESSFULLY && dispatch(setUserDataAC(null, false))\r\n      response.data.resultCode !== RESULT_CODE.SUCCESSFULLY && dispatch(installCaughtError(response.data.messages[0], 'warning'))\r\n   }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: Dispatch<ActionType>) => {\r\n   const response = await securityApi.getCaptchaUrl()\r\n\r\n   dispatch(getCaptchaUrlSuccess(response.data.url))\r\n}"],"sourceRoot":""}