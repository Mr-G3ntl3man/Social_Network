{"version":3,"sources":["image/defaultAvatar.jpg","components/Users/user.module.scss","components/Users/Users.tsx","components/Users/UsersContainer.tsx"],"names":["module","exports","Users","props","isFetching","useSelector","state","usersPage","users","followingInProgress","isAuth","auth","dispatch","useDispatch","finalClassName","s","userMain","fetching","className","map","el","src","usersWrap","userControl","style","photos","small","border","avatar","to","id","alt","followed","Button","disabled","some","variant","color","onClick","unFollowSuccess","followSuccess","userContent","Paper","paperContent","elevation","userInfo","userName","name","userStatus","status","userLocation","userCountry","location","country","userCity","city","UsersContainer","currentPage","pageSize","totalUserCount","useEffect","getUsers","usersMainWrap","Preloader","paginator","onChange","page","defaultCurrent","defaultPageSize","total"],"mappings":"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","file":"static/js/4.d5f31846.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/defaultAvatar.153ee148.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMain\":\"user_userMain__E9Qqt\",\"avatar\":\"user_avatar__3jDry\",\"userControl\":\"user_userControl__39W5w\",\"paperContent\":\"user_paperContent__2X6VR\",\"userContent\":\"user_userContent__1TPr8\",\"usersWrap\":\"user_usersWrap__3sdOA\",\"userName\":\"user_userName__3CLQt\",\"userCountry\":\"user_userCountry__22mOB\",\"selectedPage\":\"user_selectedPage__7FqHt\",\"defaultCount\":\"user_defaultCount__3lh0E\",\"fetching\":\"user_fetching__21Q_b\",\"countWrap\":\"user_countWrap__1zJiI\",\"usersMainWrap\":\"user_usersMainWrap__2MyIG\",\"page\":\"user_page__3JwGW\",\"userLocation\":\"user_userLocation__1YQYm\",\"countPageValue\":\"user_countPageValue__1sCM7\",\"pageNumber\":\"user_pageNumber___A22q\",\"userStatus\":\"user_userStatus__1bjvm\",\"paginator\":\"user_paginator__2PQ9e\"};","import React from \"react\";\r\nimport s from \"./user.module.scss\";\r\nimport {followSuccess, unFollowSuccess, UserType} from \"../../redux/reducer/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {Paper} from \"@mui/material\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateT} from \"../../redux/redux-store\";\r\nimport avatar from '../../image/defaultAvatar.jpg'\r\n\r\nexport const Users: React.FC = (props) => {\r\n   const isFetching = useSelector<AppRootStateT, boolean>(state => state.usersPage.isFetching)\r\n   const users = useSelector<AppRootStateT, UserType[]>(state => state.usersPage.users)\r\n   const followingInProgress = useSelector<AppRootStateT, number[]>(state => state.usersPage.followingInProgress)\r\n   const isAuth = useSelector<AppRootStateT, boolean>(state => state.auth.isAuth)\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   const defaultAvatar = (src: string | null) => src ? src : avatar\r\n\r\n   const finalClassName = isFetching ? `${s.userMain} ${s.fetching}` : s.userMain\r\n\r\n   const onClickUnFollowHandler = (id: number) => dispatch(unFollowSuccess(id))\r\n\r\n   const onClickFollowHandler = (id: number) => dispatch(followSuccess(id))\r\n\r\n   return (\r\n      <div className={finalClassName}>\r\n         {\r\n            users.map(el => <div className={s.usersWrap} key={el.id}>\r\n               <div className={s.userControl}>\r\n                  <span style={el.photos.small ? {} : {border: '2px solid #7e7e7e'}} className={s.avatar}>\r\n                     <NavLink to={`/profile/${el.id}`}>\r\n                        <img\r\n                           src={defaultAvatar(el.photos.small)}\r\n                           alt=\"avatar\"/>\r\n                     </NavLink>\r\n\r\n               </span>\r\n\r\n                  {el.followed\r\n                     ? <Button\r\n                        disabled={!isAuth || followingInProgress.some(id => id === el.id)}\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        onClick={() => onClickUnFollowHandler(el.id)}>UnFollow</Button>\r\n                     : <Button\r\n                        disabled={!isAuth || followingInProgress.some(id => id === el.id)}\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => onClickFollowHandler(el.id)}>Follow</Button>}\r\n\r\n               </div>\r\n\r\n               <div className={s.userContent}>\r\n                  <Paper className={s.paperContent} elevation={8}>\r\n                     <div className={s.userInfo}>\r\n                        <span className={s.userName}>{el.name}</span>\r\n                        <p className={s.userStatus}><span>Status:</span> {el.status || 'No status specified'}</p>\r\n                     </div>\r\n                     <div className={s.userLocation}>\r\n                   <span className={s.userCountry}>\r\n                     {el.location?.country || 'Country not specified'}</span>\r\n                        <span className={s.userCity}>{el.location?.city || 'City not specified'}</span>\r\n                     </div>\r\n                  </Paper>\r\n               </div>\r\n            </div>)\r\n         }\r\n      </div>\r\n   )\r\n}","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateT} from \"../../redux/redux-store\";\r\nimport {getUsers,} from \"../../redux/reducer/users-reducer\";\r\nimport React, {useEffect} from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport s from \"./user.module.scss\";\r\nimport {Pagination} from 'antd';\r\n\r\nconst UsersContainer: React.FC = () => {\r\n   const currentPage = useSelector<AppRootStateT, number>(state => state.usersPage.currentPage)\r\n   const pageSize = useSelector<AppRootStateT, number>(state => state.usersPage.pageSize)\r\n   const totalUserCount = useSelector<AppRootStateT, number>(state => state.usersPage.totalUserCount)\r\n   const isFetching = useSelector<AppRootStateT, boolean>(state => state.usersPage.isFetching)\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   useEffect(() => {\r\n      dispatch(getUsers(currentPage, pageSize))\r\n   }, [dispatch, currentPage, pageSize])\r\n\r\n\r\n   const onChangeCurrentPage = (page: number, pageSize: number) => {\r\n      if (page === 0) page = 1\r\n\r\n      dispatch(getUsers(page, pageSize))\r\n   }\r\n\r\n\r\n   return (\r\n      <div className={s.usersMainWrap}>\r\n         {isFetching && <Preloader/>}\r\n\r\n         <Pagination\r\n            className={s.paginator}\r\n            onChange={onChangeCurrentPage}\r\n            defaultCurrent={1}\r\n            defaultPageSize={pageSize}\r\n            total={totalUserCount}/>\r\n\r\n         <Users/>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default UsersContainer"],"sourceRoot":""}