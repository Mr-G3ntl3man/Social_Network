{"version":3,"sources":["ui/image/defaultAvatar.jpg","ui/components/Users/user.module.scss","ui/components/Users/Users.tsx","ui/components/Users/UsersContainer.tsx"],"names":["module","exports","Users","dispatch","useDispatch","isAuth","useSelector","state","auth","users","usersPage","isFetching","followingInProgress","finalClassName","s","userMain","fetching","className","map","el","src","usersWrap","userControl","style","photos","small","border","avatar","to","id","alt","followed","Button","disabled","some","variant","color","onClick","unFollowSuccess","followSuccess","userContent","Paper","paperContent","elevation","userInfo","userName","name","userStatus","status","userLocation","userCountry","location","country","userCity","city","UsersContainer","currentPage","pageSize","totalUserCount","useEffect","getUsers","usersMainWrap","Preloader","paginator","onChange","page","defaultCurrent","defaultPageSize","total"],"mappings":"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","file":"static/js/4.ceb5d9e8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/defaultAvatar.153ee148.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMain\":\"user_userMain__3foAC\",\"avatar\":\"user_avatar__1Nwjz\",\"userControl\":\"user_userControl__rKB20\",\"paperContent\":\"user_paperContent__3J0Kz\",\"userContent\":\"user_userContent__11xP2\",\"usersWrap\":\"user_usersWrap__KCSrx\",\"userName\":\"user_userName__Xt9pM\",\"userCountry\":\"user_userCountry__2d9Rs\",\"selectedPage\":\"user_selectedPage__3RVI3\",\"defaultCount\":\"user_defaultCount__k0p3n\",\"fetching\":\"user_fetching__30s_A\",\"countWrap\":\"user_countWrap__1xWlK\",\"usersMainWrap\":\"user_usersMainWrap__2Gw19\",\"page\":\"user_page__1PuZM\",\"userLocation\":\"user_userLocation__3lFB3\",\"countPageValue\":\"user_countPageValue__3RO-7\",\"pageNumber\":\"user_pageNumber__1nL20\",\"userStatus\":\"user_userStatus__2gIJp\",\"paginator\":\"user_paginator__jkFiB\"};","import React from \"react\";\r\nimport s from \"./user.module.scss\";\r\nimport {followSuccess, unFollowSuccess, UserType} from \"../../../bll/reducer/users-reducer\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {Paper} from \"@mui/material\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateT} from \"../../../bll/redux-store\";\r\nimport avatar from '../../image/defaultAvatar.jpg'\r\n\r\nexport const Users = () => {\r\n   const dispatch = useDispatch()\r\n\r\n   const isAuth = useSelector<AppRootStateT, boolean>(state => state.auth.isAuth)\r\n   const users = useSelector<AppRootStateT, UserType[]>(state => state.usersPage.users)\r\n   const isFetching = useSelector<AppRootStateT, boolean>(state => state.usersPage.isFetching)\r\n   const followingInProgress = useSelector<AppRootStateT, number[]>(state => state.usersPage.followingInProgress)\r\n\r\n   const defaultAvatar = (src: string | null) => src ? src : avatar\r\n   const onClickFollowHandler = (id: number) => dispatch(followSuccess(id))\r\n   const onClickUnFollowHandler = (id: number) => dispatch(unFollowSuccess(id))\r\n\r\n   const finalClassName = isFetching ? `${s.userMain} ${s.fetching}` : s.userMain\r\n\r\n   return (\r\n      <div className={finalClassName}>\r\n         {\r\n            users.map(el => <div className={s.usersWrap} key={el.id}>\r\n               <div className={s.userControl}>\r\n                  <span style={el.photos.small ? {} : {border: '2px solid #7e7e7e'}} className={s.avatar}>\r\n                     <Link to={`/Social_Network/profile/${el.id}`}>\r\n                        <img\r\n                           src={defaultAvatar(el.photos.small)}\r\n                           alt=\"avatar\"/>\r\n                     </Link>\r\n\r\n               </span>\r\n\r\n                  {el.followed\r\n                     ? <Button\r\n                        disabled={!isAuth || followingInProgress.some(id => id === el.id)}\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        onClick={() => onClickUnFollowHandler(el.id)}>UnFollow</Button>\r\n                     : <Button\r\n                        disabled={!isAuth || followingInProgress.some(id => id === el.id)}\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => onClickFollowHandler(el.id)}>Follow</Button>}\r\n\r\n               </div>\r\n\r\n               <div className={s.userContent}>\r\n                  <Paper className={s.paperContent} elevation={8}>\r\n                     <div className={s.userInfo}>\r\n                        <span className={s.userName}>{el.name}</span>\r\n                        <p className={s.userStatus}><span>Status:</span> {el.status || 'No status specified'}</p>\r\n                     </div>\r\n                     <div className={s.userLocation}>\r\n                   <span className={s.userCountry}>\r\n                     {el.location?.country || 'Country not specified'}</span>\r\n                        <span className={s.userCity}>{el.location?.city || 'City not specified'}</span>\r\n                     </div>\r\n                  </Paper>\r\n               </div>\r\n            </div>)\r\n         }\r\n      </div>\r\n   )\r\n}","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateT} from \"../../../bll/redux-store\";\r\nimport {getUsers,} from \"../../../bll/reducer/users-reducer\";\r\nimport React, {useEffect} from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport s from \"./user.module.scss\";\r\nimport {Pagination} from 'antd';\r\n\r\nconst UsersContainer: React.FC = () => {\r\n   const currentPage = useSelector<AppRootStateT, number>(state => state.usersPage.currentPage)\r\n   const pageSize = useSelector<AppRootStateT, number>(state => state.usersPage.pageSize)\r\n   const totalUserCount = useSelector<AppRootStateT, number>(state => state.usersPage.totalUserCount)\r\n   const isFetching = useSelector<AppRootStateT, boolean>(state => state.usersPage.isFetching)\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   useEffect(() => {\r\n      dispatch(getUsers(currentPage, pageSize))\r\n   }, [dispatch, currentPage, pageSize])\r\n\r\n\r\n   const onChangeCurrentPage = (page: number, pageSize: number) => {\r\n      if (page === 0) page = 1\r\n\r\n      dispatch(getUsers(page, pageSize))\r\n   }\r\n\r\n   return (\r\n      <div className={s.usersMainWrap}>\r\n         {isFetching && <Preloader/>}\r\n\r\n         <Pagination\r\n            className={s.paginator}\r\n            onChange={onChangeCurrentPage}\r\n            defaultCurrent={1}\r\n            defaultPageSize={pageSize}\r\n            total={totalUserCount}/>\r\n\r\n         <Users/>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default UsersContainer"],"sourceRoot":""}