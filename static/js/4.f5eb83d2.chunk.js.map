{"version":3,"sources":["components/Users/user.module.css","components/Users/Users.tsx","redux/selectors/user-selectors.ts","components/Users/UsersContainer.tsx"],"names":["module","exports","Users","props","finalClassName","userPage","isFetching","s","userMain","fetching","className","users","map","el","src","usersWrap","userControl","avatar","to","id","photos","small","alt","followed","Button","disabled","followingInProgress","some","variant","color","onClick","unFollowSuccess","followSuccess","userContent","Paper","style","width","padding","display","justifyContent","elevation","userInfo","userName","name","userStatus","status","userLocation","userCountry","location","country","userCity","city","getUserPage","state","usersPage","UsersPageApiComponent","onChangeCurrentPage","page","pageSize","getUsers","this","currentPage","usersMainWrap","Preloader","onChange","defaultCurrent","defaultPageSize","total","totalUserCount","React","Component","UsersContainer","compose","connect","toggleFollowingProgress","setPageSize"],"mappings":"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","file":"static/js/4.f5eb83d2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMain\":\"user_userMain__1YJup\",\"avatar\":\"user_avatar__14SSM\",\"usersWrap\":\"user_usersWrap__2iJNF\",\"userControl\":\"user_userControl__2ibJj\",\"userContent\":\"user_userContent__3TBWG\",\"userName\":\"user_userName__lV0Do\",\"userCountry\":\"user_userCountry__3L1g-\",\"selectedPage\":\"user_selectedPage__3Khzo\",\"defaultCount\":\"user_defaultCount__2XEYf\",\"fetching\":\"user_fetching__2B9d9\",\"countWrap\":\"user_countWrap__3Oh9q\",\"usersMainWrap\":\"user_usersMainWrap__1LDni\",\"page\":\"user_page__-VJwd\",\"userLocation\":\"user_userLocation__2KprE\",\"countPageValue\":\"user_countPageValue__pDlb6\",\"pageNumber\":\"user_pageNumber__2Xnai\",\"userStatus\":\"user_userStatus__yJ8TK\"};","import React from \"react\";\r\nimport s from \"./user.module.css\";\r\nimport {UsersType} from \"../../redux/reducer/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {Paper} from \"@mui/material\";\r\n\r\n\r\ntype UsersPropsType = {\r\n   userPage: UsersType\r\n   unFollowSuccess: (userId: number) => void\r\n   followSuccess: (userId: number) => void\r\n}\r\n\r\nexport const Users: React.FC<UsersPropsType> = (props) => {\r\n   const defaultAvatar = (src: string | null) => src ? src : 'https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png'\r\n\r\n   const finalClassName = props.userPage.isFetching ? `${s.userMain} ${s.fetching}` : s.userMain\r\n\r\n   const onClickUnFollowHandler = (id: number) => {\r\n      props.unFollowSuccess(id)\r\n   }\r\n\r\n   const onClickFollowHandler = (id: number) => {\r\n      props.followSuccess(id)\r\n   }\r\n\r\n   return (\r\n      <div className={finalClassName}>\r\n         {\r\n            props.userPage.users.map(el => <div className={s.usersWrap} key={el.id}>\r\n               <div className={s.userControl}>\r\n                  <span className={s.avatar}>\r\n                     <NavLink to={`/profile/${el.id}`}>\r\n                        <img\r\n                           src={defaultAvatar(el.photos.small)}\r\n                           alt=\"avatar\"/>\r\n                     </NavLink>\r\n\r\n               </span>\r\n\r\n                  {el.followed\r\n                     ? <Button\r\n                        disabled={props.userPage.followingInProgress.some(id => id === el.id)}\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        onClick={() => onClickUnFollowHandler(el.id)}>UnFollow</Button>\r\n                     : <Button\r\n                        disabled={props.userPage.followingInProgress.some(id => id === el.id)}\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => onClickFollowHandler(el.id)}>Follow</Button>}\r\n               </div>\r\n\r\n               <div className={s.userContent}>\r\n                  <Paper style={{\r\n                     width: '100%',\r\n                     padding: '20px',\r\n                     display: 'flex',\r\n                     justifyContent: 'space-between'\r\n                  }} elevation={8}>\r\n                     <div className={s.userInfo}>\r\n                        <span className={s.userName}>{el.name}</span>\r\n                        <p className={s.userStatus}>{el.status || 'No status specified'}</p>\r\n                     </div>\r\n                     <div className={s.userLocation}>\r\n                   <span className={s.userCountry}>\r\n                     {el.location?.country || 'Country not specified'}</span>\r\n                        <span className={s.userCity}>{el.location?.city || 'City not specified'}</span>\r\n                     </div>\r\n                  </Paper>\r\n               </div>\r\n            </div>)\r\n         }\r\n\r\n      </div>\r\n\r\n   )\r\n}","import {AppStateType} from \"../redux-store\";\r\n\r\nexport const getUserPage = (state: AppStateType) => state.usersPage","import {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {\r\n   followSuccess,\r\n   getUsers, setPageSize,\r\n   toggleFollowingProgress, unFollowSuccess,\r\n   UsersType\r\n} from \"../../redux/reducer/users-reducer\";\r\nimport React from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport s from \"./user.module.css\";\r\nimport {compose} from \"redux\";\r\nimport {getUserPage} from \"../../redux/selectors/user-selectors\";\r\nimport {Pagination} from 'antd';\r\n\r\n\r\nclass UsersPageApiComponent extends React.Component<UsersPropsType> {\r\n   componentDidMount() {\r\n      this.props.getUsers(this.props.userPage.currentPage, this.props.userPage.pageSize)\r\n   }\r\n\r\n   onChangeCurrentPage = (page: number, pageSize: number) => {\r\n      if (page === 0) page = 1\r\n\r\n      this.props.getUsers(page, pageSize)\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <div className={s.usersMainWrap}>\r\n            {this.props.userPage.isFetching && <Preloader/>}\r\n\r\n            <Pagination\r\n               onChange={this.onChangeCurrentPage}\r\n               defaultCurrent={1}\r\n               defaultPageSize={this.props.userPage.pageSize}\r\n               total={this.props.userPage.totalUserCount}/>\r\n\r\n            <Users\r\n               userPage={this.props.userPage}\r\n               unFollowSuccess={this.props.unFollowSuccess}\r\n               followSuccess={this.props.followSuccess}\r\n            />\r\n\r\n         </div>\r\n      )\r\n   }\r\n}\r\n\r\nexport type UsersPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\ntype MapStateToPropsType = {\r\n   userPage: UsersType\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n   followSuccess: (userId: number) => void\r\n   unFollowSuccess: (userId: number) => void\r\n   toggleFollowingProgress: (following: boolean, userId: number) => void\r\n   getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n   userPage: getUserPage(state)\r\n})\r\n\r\n\r\nexport const UsersContainer = compose(\r\n   connect(mapStateToProps, {\r\n      followSuccess, unFollowSuccess,\r\n      toggleFollowingProgress, getUsers, setPageSize\r\n   })\r\n)(UsersPageApiComponent)\r\n\r\n\r\nexport default UsersContainer"],"sourceRoot":""}